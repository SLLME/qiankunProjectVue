(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f60d89b8"],{"355b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVQ4jY2TQUoDQRBFn3FIcgGDmIUkEBAV9AxBJJIcIAeIiEsvoisXoluPEHAh7t1FCC5Ft3qAhAGT8E01jJPunnxoppn/f3VXV9XG/JE89oEBcAY0jPsAnoAH4D2rzwYoA9fAJVBaCbvEDLgHroCJ/iQZ8xA4CRgdFPgCaNkNU3fSTcD8aiuPtt32L4UD4A3Y9Ahr9v32cL/AUWIP5jML1Ug68gwUoBMRbQPzCN9RgGZEsBvhhGZSINgr4NPEmiQkPC1I4atkHRbCDlCP8M8q4yEw8lRiCmzZ/sdTEZXxWDcYA3ee6DL0bVU8vDxjNwvrtrLDS76VU6AL3NrAhCBOJ/fM828aHdTa59Zg6hEJP/VgNs5KeQlgAeNXOYDp7hGWAAAAAElFTkSuQmCC"},"5e7a":function(t,e,a){},a1ad:function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return o})),a.d(e,"k",(function(){return r})),a.d(e,"m",(function(){return c})),a.d(e,"i",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"g",(function(){return g})),a.d(e,"c",(function(){return p})),a.d(e,"j",(function(){return h})),a.d(e,"h",(function(){return m})),a.d(e,"d",(function(){return f})),a.d(e,"b",(function(){return b}));var i=a("b5c6"),s=a("76b8");function n(){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsystem/list_with_status",method:"get"})}function l(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/page",method:"get",params:t})}function o(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/"+t,method:"delete"})}function r(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/enable_monitor",method:"get",params:t})}function c(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/test_immediately",method:"get",params:t})}function u(){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsystem/list",method:"get"})}function d(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence",method:"post",data:t})}function g(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/"+t,method:"get"})}function p(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence",method:"put",data:t})}function h(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequencelog/page",method:"get",params:t})}function m(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsequence/detail",method:"get",params:t})}function f(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsystem",method:"put",data:t})}function b(t){return Object(i["a"])({url:s["a"].apimonitorUrl+"/httpsystem/".concat(t),method:"delete"})}},ea11:function(t,e,a){"use strict";var i=a("5e7a"),s=a.n(i);s.a},f5bd:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"monitoreLog"},[i("div",{staticClass:"top"},[i("div",{staticClass:"top-title"},[t._v("\n      监控日志图表\n    ")]),i("div",{staticClass:"detailMsg"},[i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("URL:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.url))])]),i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("邮箱:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.email))])]),i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("正常连接时长:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.normal_connection_time))])]),i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("最后不能连接时间:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.last_offline_time))])]),i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("监控正常/不正常次数:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.normal)+"/"+t._s(t.logDetailMsg.abnormal))])]),i("span",{staticClass:"detailMsg-item"},[i("span",{staticClass:"detailMsg-label"},[t._v("发送提醒次数:")]),i("span",{staticClass:"detailMsg-value"},[t._v(t._s(t.logDetailMsg.sendmail))])])]),i("div",{staticClass:"echartBox",attrs:{id:"uploadLineMain"}})]),i("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.tableData,stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"create_date",label:"监控时间",align:"center",width:"300"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("span",[0==s.status?i("img",{staticStyle:{"vertical-align":"middle",width:"12px","margin-bottom":"2px"},attrs:{src:a("355b"),alt:""}}):t._e(),1==s.status?i("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}}):t._e(),2==s.status?i("i",{staticClass:"el-icon-error"}):t._e(),t._v("\n          "+t._s(t._f("formatStatus")(s.status))+"\n        ")])]}}])}),i("el-table-column",{attrs:{prop:"cost_time",label:"响应时间(ms)",align:"center",width:"300"}}),i("el-table-column",{attrs:{prop:"log",label:"日志",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-popover",{attrs:{placement:"top-start",width:"1500",trigger:"hover",content:a.log}},[i("span",{attrs:{slot:"reference"},on:{click:function(e){return t.showResultLog(a.log)}},slot:"reference"},[t._v(t._s(a.log.substring(0,100)))])])]}}])})],1),i("el-pagination",{staticStyle:{margin:"15px 100px 35px 0",float:"right"},attrs:{"current-page":t.page.current,"page-sizes":[10,20,30,40],"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),i("el-dialog",{attrs:{title:"相应结果详情",visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"dialog-box"},[i("span",{attrs:{id:"copyContent"}},[t._v(t._s(t.showMsg))])]),i("input",{staticClass:"input",attrs:{type:"text "}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.copyBtn}},[t._v("复 制")]),i("el-button",{attrs:{size:"medium"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},s=[],n=a("a1ad"),l=a("2389"),o=a.n(l),r={data:function(){return{tableData:[],page:{size:10,current:1,sequenceId:""},totalCount:0,chartLine:null,logDetailMsg:{},dialogVisible:!1,showMsg:""}},filters:{formatStatus:function(t){var e=["异常","正常","下线"];return e[t]}},methods:{getlog:function(){var t=this;this.page.sequenceId=this.$route.query.id,this.chartLine=o.a.init(document.getElementById("uploadLineMain")),this.chartLine.showLoading(),Object(n["j"])(this.page).then((function(e){t.tableData=e.data.data.records,t.totalCount=e.data.data.total,t.chartLine.hideLoading(),t.initChartLine()}))},initChartLine:function(){for(var t=this,e=this.tableData.map((function(t){return t.cost_time})),a=this.tableData.map((function(t){return t.status})),i=[],s=0;s<e.length;s++)i[s]={value:e[s],status:a[s]};var n={tooltip:{trigger:"axis",backgroundColor:"rgba(255,255,255,0.9)",textStyle:{color:"#575757"},extraCssText:"box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.2);"},legend:{data:["连接时间(ms)"]},color:["#55c4bd"],grid:{top:"15%",left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:this.tableData.map((function(t){return t.create_date.substring(10)})),axisLine:{lineStyle:{color:"#999"}}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1},axisTick:{show:!1}},series:[{name:"连接时间(ms)",data:i,type:"line",symbolSize:8,itemStyle:{normal:{lineStyle:{color:"#55c4bd"}}},color:function(t){return 0==t.data.status?"#ffa500":1==t.data.status?"#55c4bd":2==t.data.status?"#333":void 0}}]};this.chartLine.setOption(n),window.addEventListener("resize",(function(){t.chartLine.resize()}))},getDetail:function(){var t=this,e={id:this.$route.query.id};Object(n["h"])(e).then((function(e){t.logDetailMsg=e.data.data}))},copyBtn:function(){var t=document.querySelector("#copyContent").innerHTML,e=document.querySelector(".input");e.value=t,e.select(),document.execCommand("Copy"),this.$message.success("复制成功"),this.dialogVisible=!1},showResultLog:function(t){this.dialogVisible=!0,this.showMsg=t},handleSizeChange:function(t){this.page.size=t,this.getlog()},handleCurrentChange:function(t){this.page.current=t,this.getlog()}},mounted:function(){this.getlog(),this.getDetail()},activated:function(){this.getlog(),this.getDetail()},watch:{$route:{handler:function(){this.getlog(),this.getDetail()}}}},c=r,u=(a("ea11"),a("4023")),d=Object(u["a"])(c,i,s,!1,null,"3ffbf884",null);e["default"]=d.exports}}]);
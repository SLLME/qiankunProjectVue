(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-020d04f6"],{4127:function(t,e,r){"use strict";var o=r("d233"),n=r("b313"),a={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},i=Array.isArray,s=Array.prototype.push,c=function(t,e){s.apply(t,i(e)?e:[e])},l=Date.prototype.toISOString,p={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(e,r,n,a,s,l,u,f,d,m,y,v){var h=e;if("function"===typeof u?h=u(r,h):h instanceof Date&&(h=m(h)),null===h){if(a)return l&&!v?l(r,p.encoder):r;h=""}if("string"===typeof h||"number"===typeof h||"boolean"===typeof h||o.isBuffer(h)){if(l){var b=v?r:l(r,p.encoder);return[y(b)+"="+y(l(h,p.encoder))]}return[y(r)+"="+y(String(h))]}var g,O=[];if("undefined"===typeof h)return O;if(i(u))g=u;else{var j=Object.keys(h);g=f?j.sort(f):j}for(var A=0;A<g.length;++A){var _=g[A];s&&null===h[_]||(i(h)?c(O,t(h[_],n(r,_),n,a,s,l,u,f,d,m,y,v)):c(O,t(h[_],r+(d?"."+_:"["+_+"]"),n,a,s,l,u,f,d,m,y,v)))}return O};t.exports=function(t,e){var r=t,s=e?o.assign({},e):{};if(null!==s.encoder&&"undefined"!==typeof s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"===typeof s.delimiter?p.delimiter:s.delimiter,f="boolean"===typeof s.strictNullHandling?s.strictNullHandling:p.strictNullHandling,d="boolean"===typeof s.skipNulls?s.skipNulls:p.skipNulls,m="boolean"===typeof s.encode?s.encode:p.encode,y="function"===typeof s.encoder?s.encoder:p.encoder,v="function"===typeof s.sort?s.sort:null,h="undefined"!==typeof s.allowDots&&s.allowDots,b="function"===typeof s.serializeDate?s.serializeDate:p.serializeDate,g="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:p.encodeValuesOnly;if("undefined"===typeof s.format)s.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,s.format))throw new TypeError("Unknown format option provided.");var O,j,A=n.formatters[s.format];"function"===typeof s.filter?(j=s.filter,r=j("",r)):i(s.filter)&&(j=s.filter,O=j);var _,w=[];if("object"!==typeof r||null===r)return"";_=s.arrayFormat in a?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var D=a[_];O||(O=Object.keys(r)),v&&O.sort(v);for(var x=0;x<O.length;++x){var C=O[x];d&&null===r[C]||c(w,u(r[C],C,D,f,d,m?y:null,j,v,h,b,A,g))}var k=w.join(l),T=!0===s.addQueryPrefix?"?":"";return k.length>0?T+k:""}},4328:function(t,e,r){"use strict";var o=r("4127"),n=r("9e6a"),a=r("b313");t.exports={formats:a,parse:n,stringify:o}},"4eca":function(t,e,r){"use strict";r("ab8a")},"9b39":function(t,e,r){"use strict";r.d(e,"f",(function(){return i})),r.d(e,"g",(function(){return s})),r.d(e,"d",(function(){return c})),r.d(e,"a",(function(){return l})),r.d(e,"h",(function(){return p})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return f})),r.d(e,"e",(function(){return d}));var o=r("b775"),n=r("4328"),a=r.n(n);function i(t){return Object(o["a"])({url:"/approve/act/list",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/approve/act/listAll",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/approve/act/"+t,method:"get"})}function l(t){return Object(o["a"])({url:"/approve/act",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/approve/act",method:"put",data:t})}function u(t){return Object(o["a"])({url:"/approve/act/"+t,method:"delete"})}function f(t){return Object(o["a"])({url:"/approve/act/export",method:"get",params:t,paramsSerializer:function(t){return a.a.stringify(t,{arrayFormat:"repeat"})}})}function d(t){return Object(o["a"])({url:"/approve/act/latestApproveFlowWithBiz",method:"get",params:t})}},"9e6a":function(t,e,r){"use strict";var o=r("d233"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(t,e){for(var r={},o=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,s=o.split(e.delimiter,i),c=0;c<s.length;++c){var l,p,u=s[c],f=u.indexOf("]="),d=-1===f?u.indexOf("="):f+1;-1===d?(l=e.decoder(u,a.decoder),p=e.strictNullHandling?null:""):(l=e.decoder(u.slice(0,d),a.decoder),p=e.decoder(u.slice(d+1),a.decoder)),n.call(r,l)?r[l]=[].concat(r[l]).concat(p):r[l]=p}return r},s=function(t,e,r){for(var o=e,n=t.length-1;n>=0;--n){var a,i=t[n];if("[]"===i&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&i!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=o):"__proto__"!==s&&(a[s]=o):a={0:o}}o=a}return o},c=function(t,e,r){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,c=a.exec(o),l=c?o.slice(0,c.index):o,p=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;p.push(l)}var u=0;while(null!==(c=i.exec(o))&&u<r.depth){if(u+=1,!r.plainObjects&&n.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+o.slice(c.index)+"]"),s(p,e,r)}};t.exports=function(t,e){var r=e?o.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===t||null===t||"undefined"===typeof t)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof t?i(t,r):t,s=r.plainObjects?Object.create(null):{},l=Object.keys(n),p=0;p<l.length;++p){var u=l[p],f=c(u,n[u],r);s=o.merge(s,f,r)}return o.compact(s)}},a767:function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i}));var o=r("b775");function n(t){return Object(o["a"])({url:"/act/task/myTask",method:"get",params:t})}function a(t){return Object(o["a"])({url:"/act/task/formDataShow/"+t,method:"get"})}function i(t,e){return Object(o["a"])({url:"/act/task/formDataSave/"+t,method:"post",data:e})}},ab8a:function(t,e,r){},b313:function(t,e,r){"use strict";var o=String.prototype.replace,n=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return o.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(t,e,r){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t){var e;while(t.length){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var o=[],n=0;n<e.length;++n)"undefined"!==typeof e[n]&&o.push(e[n]);r.obj[r.prop]=o}}return e},i=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},o=0;o<t.length;++o)"undefined"!==typeof t[o]&&(r[o]=t[o]);return r},s=function t(e,r,n){if(!r)return e;if("object"!==typeof r){if(Array.isArray(e))e.push(r);else{if(!e||"object"!==typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!==typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=i(e,n)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,a){if(o.call(e,a)){var i=e[a];i&&"object"===typeof i&&r&&"object"===typeof r?e[a]=t(i,r,n):e.push(r)}else e[a]=r})),e):Object.keys(r).reduce((function(e,a){var i=r[a];return o.call(e,a)?e[a]=t(e[a],i,n):e[a]=i,e}),a)},c=function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},l=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},p=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),r="",o=0;o<e.length;++o){var a=e.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=e.charAt(o):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(o)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},u=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],o=0;o<e.length;++o)for(var n=e[o],i=n.obj[n.prop],s=Object.keys(i),c=0;c<s.length;++c){var l=s[c],p=i[l];"object"===typeof p&&null!==p&&-1===r.indexOf(p)&&(e.push({obj:i,prop:l}),r.push(p))}return a(e)},f=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},d=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:i,assign:c,compact:u,decode:l,encode:p,isBuffer:d,isRegExp:f,merge:s}},d3b3:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mobile-container"},[r("div",{staticClass:"title-wrapper"},[r("i",{staticClass:"el-icon-arrow-left",on:{click:t.handleBack}}),t._v(" 流程详情 ")]),r("div",{staticClass:"content-wrapper"},["wdfq"==t.pageType?[r("h2",[t._v("发起人："+t._s(t.form.createName))]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("业务类型：")]),r("div",{staticClass:"info-item-right"},[t._v(" "+t._s(t.approvalTypeFormat(t.form))+" ")])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("标题：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.title))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("原因：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.reason))])]),r("div",{staticClass:"approve-wrapper"},t._l(t.fromData,(function(e,o){return r("div",{key:o},[r("h2",[t._v(t._s(e.taskNodeName))]),r("h3",[t._v("审批人:"+t._s(e.createName))]),r("h3",[t._v("审批时间:"+t._s(e.createdDate))]),t._l(e.formHistoryDataDTO,(function(e,o){return r("el-form",{key:o,attrs:{"label-width":"90px"}},[r("el-form-item",{attrs:{label:e.title+"："}},[t._v(" "+t._s(e.value)+" ")])],1)}))],2)})),0)]:"dsp"==t.pageType?[r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("流程名称：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.instanceName))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("任务节点名称：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.name))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("原因：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.reason))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[t._v("创建时间：")]),r("div",{staticClass:"info-item-right"},[t._v(t._s(t.form.createdDate))])])]:t._e()],2),"dsp"==t.pageType?r("div",{staticClass:"bottom-operation-wrapper"},[r("div",{staticClass:"bottom-operation-item",on:{click:t.examineAndApprove}},[t._v("审 批")])]):t._e(),r("van-dialog",{attrs:{title:"审批","show-cancel-button":"",beforeClose:t.examineAndApproveSubmit},model:{value:t.examineAndApproveDialog.open,callback:function(e){t.$set(t.examineAndApproveDialog,"open",e)},expression:"examineAndApproveDialog.open"}},[r("el-form",{ref:"examineAndApproveForm",staticClass:"demo-dynamic",attrs:{model:t.examineAndApproveDialog.form,"label-width":"100px"}},t._l(t.examineAndApproveDialog.form.formData,(function(e,o){return r("el-form-item",{key:o,attrs:{label:e.controlLable}},["radio"==e.controlType?r("el-radio-group",{model:{value:e.controlValue,callback:function(r){t.$set(e,"controlValue",r)},expression:"domain.controlValue"}},t._l(e.controlDefault.split("--__--"),(function(e,o){return r("el-radio",{key:o,attrs:{label:o}},[t._v(t._s(e)+" ")])})),1):t._e(),"textarea"==e.controlType?r("el-input",{attrs:{type:"textarea"},model:{value:e.controlValue,callback:function(r){t.$set(e,"controlValue",r)},expression:"domain.controlValue"}}):t._e()],1)})),1)],1)],1)},n=[],a=(r("d3b7"),r("9b39")),i=r("a767"),s=r("d923"),c=r("ed08"),l=r("d399"),p={name:"Approveinfo",data:function(){return{pageType:"",currData:{},businessKey:null,form:{},fromData:[],approvalTypeOptions:[],examineAndApproveDialog:{open:!1,form:{formData:[]}}}},created:function(){var t=this,e=this.$route.query.currData,r=this.$route.query.pageType;this.pageType=r,this.currData=e,"wdfq"==this.pageType||"ysp"==this.pageType?this.getForm():"dsp"==this.pageType&&(this.form=Object(c["e"])(this.currData)),this.getDicts("approve_process_define").then((function(e){t.approvalTypeOptions=e.data}))},methods:{approvalTypeFormat:function(t,e){return this.selectDictLabel(this.approvalTypeOptions,t.type)},getForm:function(){var t=this;Object(a["d"])(this.currData.id).then((function(e){t.form=e.data}))},getFromData:function(){var t=this;Object(s["a"])(this.currData.id).then((function(e){t.fromData=e.data}))},examineAndApprove:function(){var t=this;this.$vLoading.show(),Object(i["b"])(this.form.id).then((function(e){for(var r=e.data,o=[],n=0;n<r.length;n++){var a=r[n].split("--__!!"),i=null,s=null;switch(a[1]){case"radio":i=0,s=a[4];break}o.push({controlId:a[0],controlType:a[1],controlLable:a[2],controlIsParam:a[3],controlValue:i,controlDefault:s})}t.examineAndApproveDialog.form.formData=o,t.examineAndApproveDialog.open=!0})).finally((function(){t.$vLoading.hide()}))},examineAndApproveSubmit:function(t,e){var r=this;"confirm"===t?(this.$vLoading.show(),Object(i["a"])(this.form.id,this.examineAndApproveDialog.form.formData).then((function(t){l["a"].success("审批成功"),r.$router.push({path:"/dsp"})})).finally((function(){r.$vLoading.hide(),e()}))):e()},handleBack:function(){"wdfq"==this.pageType?this.$router.push({path:"/wdfq"}):"dsp"==this.pageType?this.$router.push({path:"/dsp"}):"ysp"==this.pageType&&this.$router.push({path:"/ysp"})}}},u=p,f=(r("4eca"),r("e744"),r("2877")),d=Object(f["a"])(u,o,n,!1,null,"8d224b14",null);e["default"]=d.exports},d923:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=r("b775");function n(t){return Object(o["a"])({url:"/historyFromData/ByInstanceId/"+t,method:"get"})}},e744:function(t,e,r){"use strict";r("f3be")},f3be:function(t,e,r){}}]);
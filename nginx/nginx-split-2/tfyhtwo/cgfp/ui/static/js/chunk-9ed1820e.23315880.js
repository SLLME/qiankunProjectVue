(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ed1820e"],{2010:function(e,t,l){"use strict";l("5234")},"2f3d":function(e,t,l){"use strict";l.d(t,"f",(function(){return n})),l.d(t,"e",(function(){return a})),l.d(t,"a",(function(){return r})),l.d(t,"h",(function(){return i})),l.d(t,"b",(function(){return s})),l.d(t,"c",(function(){return u})),l.d(t,"d",(function(){return c})),l.d(t,"g",(function(){return p}));var o=l("b775");function n(e){return Object(o["a"])({url:"/api/xp/list",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/api/xp/getInfo",method:"get",params:e})}function r(e){return Object(o["a"])({url:"/output/history",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/output/history",method:"put",data:e})}function s(e){return Object(o["a"])({url:"/output/history/"+e,method:"delete"})}function u(e){return Object(o["a"])({url:"/api/xp/export",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/output/history/exportDetail",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/api/xp/type/"+e,method:"get"})}},4127:function(e,t,l){"use strict";var o=l("d233"),n=l("b313"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},r=Array.isArray,i=Array.prototype.push,s=function(e,t){i.apply(e,r(t)?t:[t])},u=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,l,n,a,i,u,p,m,d,f,b,h){var y=t;if("function"===typeof p?y=p(l,y):y instanceof Date&&(y=f(y)),null===y){if(a)return u&&!h?u(l,c.encoder):l;y=""}if("string"===typeof y||"number"===typeof y||"boolean"===typeof y||o.isBuffer(y)){if(u){var g=h?l:u(l,c.encoder);return[b(g)+"="+b(u(y,c.encoder))]}return[b(l)+"="+b(String(y))]}var v,x=[];if("undefined"===typeof y)return x;if(r(p))v=p;else{var w=Object.keys(y);v=m?w.sort(m):w}for(var T=0;T<v.length;++T){var N=v[T];i&&null===y[N]||(r(y)?s(x,e(y[N],n(l,N),n,a,i,u,p,m,d,f,b,h)):s(x,e(y[N],l+(d?"."+N:"["+N+"]"),n,a,i,u,p,m,d,f,b,h)))}return x};e.exports=function(e,t){var l=e,i=t?o.assign({},t):{};if(null!==i.encoder&&"undefined"!==typeof i.encoder&&"function"!==typeof i.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"===typeof i.delimiter?c.delimiter:i.delimiter,m="boolean"===typeof i.strictNullHandling?i.strictNullHandling:c.strictNullHandling,d="boolean"===typeof i.skipNulls?i.skipNulls:c.skipNulls,f="boolean"===typeof i.encode?i.encode:c.encode,b="function"===typeof i.encoder?i.encoder:c.encoder,h="function"===typeof i.sort?i.sort:null,y="undefined"!==typeof i.allowDots&&i.allowDots,g="function"===typeof i.serializeDate?i.serializeDate:c.serializeDate,v="boolean"===typeof i.encodeValuesOnly?i.encodeValuesOnly:c.encodeValuesOnly;if("undefined"===typeof i.format)i.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,i.format))throw new TypeError("Unknown format option provided.");var x,w,T=n.formatters[i.format];"function"===typeof i.filter?(w=i.filter,l=w("",l)):r(i.filter)&&(w=i.filter,x=w);var N,O=[];if("object"!==typeof l||null===l)return"";N=i.arrayFormat in a?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var k=a[N];x||(x=Object.keys(l)),h&&x.sort(h);for(var A=0;A<x.length;++A){var j=x[A];d&&null===l[j]||s(O,p(l[j],j,k,m,d,f?b:null,w,h,y,g,T,v))}var C=O.join(u),S=!0===i.addQueryPrefix?"?":"";return C.length>0?S+C:""}},4328:function(e,t,l){"use strict";var o=l("4127"),n=l("9e6a"),a=l("b313");e.exports={formats:a,parse:n,stringify:o}},5234:function(e,t,l){},7745:function(e,t,l){},"994d":function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{attrs:{title:e.title,visible:e.open,width:"1200px","append-to-body":"",id:"invoiceManagerModal"},on:{"update:visible":function(t){e.open=t}}},[l("div",{staticClass:"clearfix"}),l("div",{staticClass:"invoiceManger-body"},[l("el-form",{ref:"form",attrs:{model:e.form,size:"small","label-width":"110px",rules:e.rules}},[l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px",padding:"0 10px 10px 10px"}},[l("el-col",{attrs:{span:24}},[l("el-row",{staticStyle:{display:"flex"}},[l("el-col",{attrs:{span:7}}),l("el-col",{attrs:{span:10}},[l("el-row",[l("el-divider",{attrs:{"content-position":"center"}},[e._v(e._s(e.fplxdesc))])],1)],1),l("el-col",{attrs:{span:7}})],1),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"发票代码",prop:"invCode"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.invCode,callback:function(t){e.$set(e.form,"invCode","string"===typeof t?t.trim():t)},expression:"form.invCode"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"发票号码",prop:"invNo"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.invNo,callback:function(t){e.$set(e.form,"invNo","string"===typeof t?t.trim():t)},expression:"form.invNo"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"开票日期",prop:"invDate"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.invDate,callback:function(t){e.$set(e.form,"invDate","string"===typeof t?t.trim():t)},expression:"form.invDate"}})],1)],1)],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",padding:"0 10px 10px 10px"}},[l("el-col",{attrs:{span:24}},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"机打代码",prop:"invCode"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.invCode,callback:function(t){e.$set(e.form,"invCode","string"===typeof t?t.trim():t)},expression:"form.invCode"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"机打号码",prop:"invNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.invNo,callback:function(t){e.$set(e.form,"invNo","string"===typeof t?t.trim():t)},expression:"form.invNo"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"机器编码",prop:"machineNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.machineNo,callback:function(t){e.$set(e.form,"machineNo","string"===typeof t?t.trim():t)},expression:"form.machineNo"}})],1)],1)],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"税控码"}},[l("el-input",{staticStyle:{height:"114px"},attrs:{type:"textarea",size:"mini",readonly:""},model:{value:e.form.pwdCode,callback:function(t){e.$set(e.form,"pwdCode",t)},expression:"form.pwdCode"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"购买方名称",prop:"buyName"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.buyName,callback:function(t){e.$set(e.form,"buyName","string"===typeof t?t.trim():t)},expression:"form.buyName"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"纳税人识别号",prop:"buyTaxNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.buyTaxNo,callback:function(t){e.$set(e.form,"buyTaxNo","string"===typeof t?t.trim():t)},expression:"form.buyTaxNo"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"车辆类型",prop:"vehicleType"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.vehicleType,callback:function(t){e.$set(e.form,"vehicleType","string"===typeof t?t.trim():t)},expression:"form.vehicleType"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"厂牌型号",prop:"factoryNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.factoryNo,callback:function(t){e.$set(e.form,"factoryNo","string"===typeof t?t.trim():t)},expression:"form.factoryNo"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"产地",prop:"origin"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.origin,callback:function(t){e.$set(e.form,"origin","string"===typeof t?t.trim():t)},expression:"form.origin"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"合格证号",prop:"eligibilityNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.eligibilityNo,callback:function(t){e.$set(e.form,"eligibilityNo","string"===typeof t?t.trim():t)},expression:"form.eligibilityNo"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"进口证明书号",prop:"importCertificateNumber"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.importCertificateNumber,callback:function(t){e.$set(e.form,"importCertificateNumber","string"===typeof t?t.trim():t)},expression:"form.importCertificateNumber"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"商检单号",prop:"commodityInspectionNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.commodityInspectionNo,callback:function(t){e.$set(e.form,"commodityInspectionNo","string"===typeof t?t.trim():t)},expression:"form.commodityInspectionNo"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"发动机号码",prop:"engineNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.engineNo,callback:function(t){e.$set(e.form,"engineNo","string"===typeof t?t.trim():t)},expression:"form.engineNo"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"车辆识别代号",prop:"vehicleIdentificationCode"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.vehicleIdentificationCode,callback:function(t){e.$set(e.form,"vehicleIdentificationCode","string"===typeof t?t.trim():t)},expression:"form.vehicleIdentificationCode"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"价税合计"}},[l("el-input",{attrs:{size:"mini",readonly:""},on:{change:e.totalAmountChange},nativeOn:{keyup:function(t){return e.validIsNumber(t)}},model:{value:e.form.totalAmount,callback:function(t){e.$set(e.form,"totalAmount","string"===typeof t?t.trim():t)},expression:"form.totalAmount"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"大写￥"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.totalMoneyUp,callback:function(t){e.$set(e.form,"totalMoneyUp","string"===typeof t?t.trim():t)},expression:"form.totalMoneyUp"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"销货单位名称",prop:"sellName"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellName,callback:function(t){e.$set(e.form,"sellName","string"===typeof t?t.trim():t)},expression:"form.sellName"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"电话",prop:"sellTel"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellTel,callback:function(t){e.$set(e.form,"sellTel","string"===typeof t?t.trim():t)},expression:"form.sellTel"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"纳税人识别号",prop:"sellTaxNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellTaxNo,callback:function(t){e.$set(e.form,"sellTaxNo","string"===typeof t?t.trim():t)},expression:"form.sellTaxNo"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"账号",prop:"sellAccount"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellAccount,callback:function(t){e.$set(e.form,"sellAccount","string"===typeof t?t.trim():t)},expression:"form.sellAccount"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"地址",prop:"sellAddr"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellAddr,callback:function(t){e.$set(e.form,"sellAddr","string"===typeof t?t.trim():t)},expression:"form.sellAddr"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"开户银行",prop:"sellBank"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.sellBank,callback:function(t){e.$set(e.form,"sellBank","string"===typeof t?t.trim():t)},expression:"form.sellBank"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"80px"}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"增值税税率或征收率",prop:"rate"}},[l("el-select",{attrs:{size:"mini",placeholder:"请选择税率",readonly:""},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}},e._l(e.rateOptions,(function(e){return l("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"增值税税额",prop:"totalTaxAmount"}},[l("el-input",{attrs:{size:"mini",readonly:""},nativeOn:{keyup:function(t){return e.validIsNumber(t)}},model:{value:e.form.totalTaxAmount,callback:function(t){e.$set(e.form,"totalTaxAmount","string"===typeof t?t.trim():t)},expression:"form.totalTaxAmount"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"主管税务机关及代码"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.taxAuthorityName,callback:function(t){e.$set(e.form,"taxAuthorityName","string"===typeof t?t.trim():t)},expression:"form.taxAuthorityName"}}),l("br"),l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.taxAuthorityCode,callback:function(t){e.$set(e.form,"taxAuthorityCode","string"===typeof t?t.trim():t)},expression:"form.taxAuthorityCode"}})],1)],1)],1),l("el-row",{staticClass:"public-row",staticStyle:{display:"flex","justify-content":"center",height:"40px"}},[l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"不含税价",prop:"totalAmountWithoutTax"}},[l("el-input",{attrs:{size:"mini",readonly:""},nativeOn:{keyup:function(t){return e.validIsNumber(t)}},model:{value:e.form.totalAmountWithoutTax,callback:function(t){e.$set(e.form,"totalAmountWithoutTax","string"===typeof t?t.trim():t)},expression:"form.totalAmountWithoutTax"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"完税凭证号码",prop:"completionVoucherNo"}},[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.form.completionVoucherNo,callback:function(t){e.$set(e.form,"completionVoucherNo","string"===typeof t?t.trim():t)},expression:"form.completionVoucherNo"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"吨位",prop:"tonnage"}},[l("el-input",{attrs:{size:"mini",readonly:""},nativeOn:{keyup:function(t){return e.validIsNumber(t)}},model:{value:e.form.tonnage,callback:function(t){e.$set(e.form,"tonnage","string"===typeof t?t.trim():t)},expression:"form.tonnage"}})],1)],1),l("el-col",{attrs:{span:6}},[l("el-form-item",{attrs:{label:"限乘人数",prop:"limitedNumberOfPassengers"}},[l("el-input",{attrs:{size:"mini",readonly:""},nativeOn:{keyup:function(t){return e.validIsNumber(t)}},model:{value:e.form.limitedNumberOfPassengers,callback:function(t){e.$set(e.form,"limitedNumberOfPassengers","string"===typeof t?t.trim():t)},expression:"form.limitedNumberOfPassengers"}})],1)],1)],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px",padding:"0 10px 10px 10px"}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"生产企业名称",prop:""}},[l("el-input",{attrs:{placeholder:"",readonly:""},nativeOn:{keyup:function(t){return e.CValid(t)}},model:{value:e.form.invoicer,callback:function(t){e.$set(e.form,"invoicer","string"===typeof t?t.trim():t)},expression:"form.invoicer"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"开票人",prop:"invoicer"}},[l("el-input",{attrs:{maxlength:10,readonly:""},nativeOn:{keyup:function(t){return e.CValid(t)}},model:{value:e.form.invoicer,callback:function(t){e.$set(e.form,"invoicer","string"===typeof t?t.trim():t)},expression:"form.invoicer"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"备注",prop:"note"}},[l("el-input",{attrs:{maxlength:10,readonly:""},nativeOn:{keyup:function(t){return e.CValid(t)}},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note","string"===typeof t?t.trim():t)},expression:"form.note"}})],1)],1)],1)],1)],1)])],1)},n=[],a=l("ade3"),r=(l("b680"),l("d3b7"),l("25f0"),l("2f3d")),i=l("ed08"),s=(l("c38a"),{name:"historyVehicleDetailShowModal",props:{},data:function(){var e;return{form:(e={invType:"",blockChain:null,buyAddrTel:null,buyBankAccount:null,buyName:null,buyTaxNo:null,cashier:null,checkCode:null,checkMsg:null,checked:null,checker:null,createBy:null,id:null,invCode:null,invDate:null,invNo:null},Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(e,"invType",null),"invoicer",null),"machineNo",null),"note",null),"sellName",null),"sellTaxNo",null),"sellAddr",null),"sellBank",null),"sellTel",null),"sellAccount",null),Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(e,"sourceInvCode",null),"sourceInvNo",null),"state",null),"totalAmount",null),"totalAmountWithoutTax",null),"totalMoneyUp",null),"totalTaxAmount",null),"updateBy",null),"updateTime",null),"vehicleType",null),Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(Object(a["a"])(e,"factoryNo",null),"origin",null),"eligibilityNo",null),"importCertificateNumber",null),"commodityInspectionNo",null),"engineNo",null),"vehicleIdentificationCode",null),"rate",null),"taxAuthorityName",null),"taxAuthorityCode",null),Object(a["a"])(Object(a["a"])(Object(a["a"])(e,"completionVoucherNo",null),"tonnage",null),"limitedNumberOfPassengers",null)),fplxdesc:"机动车销售统一发票",open:!1,title:"发票详情",invTypeOptions:[],stateOptions:[],checkedOptions:[],dataSourceOptions:[],blockChainOptions:[],rateOptions:[],rules:{buyName:[],buyTaxNo:[],vehicleType:[],factoryNo:[],origin:[]}}},watch:{},computed:{},created:function(){var e=this;Object(r["g"])("income_check_inv_type").then((function(t){e.invTypeOptions=t.data})),Object(r["g"])("income_inv_status").then((function(t){e.stateOptions=t.data})),Object(r["g"])("income_checked").then((function(t){e.checkedOptions=t.data})),Object(r["g"])("income_source").then((function(t){e.dataSourceOptions=t.data})),Object(r["g"])("sys_yes_no_num").then((function(t){e.blockChainOptions=t.data})),Object(r["g"])("tax_rate").then((function(t){e.rateOptions=t.data}))},mounted:function(){},methods:{fillInvoiceDialog:function(e){var t=this;return Object(r["e"])(e).then((function(e){var l=e.data,o=l.details[0];for(var n in t.form=Object(i["e"])(l),delete t.form.details,null!=l.sellBankAccount&&(t.form.sellBank=l.sellBankAccount.split(" ")[0],t.form.sellAccount=l.sellBankAccount.split(" ")[1]),null!=l.sellAddrTel&&(t.form.sellAddr=l.sellAddrTel.split(" ")[0],t.form.sellTel=l.sellAddrTel.split(" ")[1]),o)t.form[n]=o[n];t.form.totalMoneyUp=t.swapper(t.form.totalAmount),t.form.rate+="",t.open=!0,t.title="发票详情",t.$nextTick((function(){t.$refs.form.clearValidate()}))}))},transformRate:function(e){return void 0==e.rate||null==e.rate?"":(e.rate=e.rate.toFixed(0),"0"==e.rate?"0"==e.preferentialFlag?e.rate.toString()+"%":e.preferentialType:e.rate.toString()+"%")},openDialog:function(){this.open=!0,this.title="添加单据",this.$refs.form.clearValidate()},totalAmountChange:function(){this.form.totalMoneyUp=this.swapper(this.form.totalAmount)}}}),u=s,c=(l("a923"),l("2877")),p=Object(c["a"])(u,o,n,!1,null,"3fd8a42e",null);t["default"]=p.exports},"9e6a":function(e,t,l){"use strict";var o=l("d233"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},r=function(e,t){for(var l={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,i=o.split(t.delimiter,r),s=0;s<i.length;++s){var u,c,p=i[s],m=p.indexOf("]="),d=-1===m?p.indexOf("="):m+1;-1===d?(u=t.decoder(p,a.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(p.slice(0,d),a.decoder),c=t.decoder(p.slice(d+1),a.decoder)),n.call(l,u)?l[u]=[].concat(l[u]).concat(c):l[u]=c}return l},i=function(e,t,l){for(var o=t,n=e.length-1;n>=0;--n){var a,r=e[n];if("[]"===r&&l.parseArrays)a=[].concat(o);else{a=l.plainObjects?Object.create(null):{};var i="["===r.charAt(0)&&"]"===r.charAt(r.length-1)?r.slice(1,-1):r,s=parseInt(i,10);l.parseArrays||""!==i?!isNaN(s)&&r!==i&&String(s)===i&&s>=0&&l.parseArrays&&s<=l.arrayLimit?(a=[],a[s]=o):"__proto__"!==i&&(a[i]=o):a={0:o}}o=a}return o},s=function(e,t,l){if(e){var o=l.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,s=a.exec(o),u=s?o.slice(0,s.index):o,c=[];if(u){if(!l.plainObjects&&n.call(Object.prototype,u)&&!l.allowPrototypes)return;c.push(u)}var p=0;while(null!==(s=r.exec(o))&&p<l.depth){if(p+=1,!l.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!l.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),i(c,t,l)}};e.exports=function(e,t){var l=t?o.assign({},t):{};if(null!==l.decoder&&void 0!==l.decoder&&"function"!==typeof l.decoder)throw new TypeError("Decoder has to be a function.");if(l.ignoreQueryPrefix=!0===l.ignoreQueryPrefix,l.delimiter="string"===typeof l.delimiter||o.isRegExp(l.delimiter)?l.delimiter:a.delimiter,l.depth="number"===typeof l.depth?l.depth:a.depth,l.arrayLimit="number"===typeof l.arrayLimit?l.arrayLimit:a.arrayLimit,l.parseArrays=!1!==l.parseArrays,l.decoder="function"===typeof l.decoder?l.decoder:a.decoder,l.allowDots="boolean"===typeof l.allowDots?l.allowDots:a.allowDots,l.plainObjects="boolean"===typeof l.plainObjects?l.plainObjects:a.plainObjects,l.allowPrototypes="boolean"===typeof l.allowPrototypes?l.allowPrototypes:a.allowPrototypes,l.parameterLimit="number"===typeof l.parameterLimit?l.parameterLimit:a.parameterLimit,l.strictNullHandling="boolean"===typeof l.strictNullHandling?l.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return l.plainObjects?Object.create(null):{};for(var n="string"===typeof e?r(e,l):e,i=l.plainObjects?Object.create(null):{},u=Object.keys(n),c=0;c<u.length;++c){var p=u[c],m=s(p,n[p],l);i=o.merge(i,m,l)}return o.compact(i)}},a923:function(e,t,l){"use strict";l("7745")},b313:function(e,t,l){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b526:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticStyle:{height:"40px"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.calcTotalData,"show-header":!1}},[l("el-table-column",{attrs:{width:"120",align:"center",prop:"name"}}),l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column1"}}),l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column2"}}),l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column3"}}),"1"==e.showError?l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column4"}}):e._e()],1)],1)},n=[],a=l("b85c"),r=(l("b0c0"),l("b680"),{name:"totalRowTable",props:{totalTableData:{default:[{name:"选择合计",column1:"",column2:"",column3:"",column4:""}]},showError:{default:"0"},type:{default:"output"},allTotalTableData:{default:function(){return{}}}},computed:{calcTotalData:function(){var e=[{name:"合计",column1:"",column2:"",column3:"",column4:""}];if(e[0].name="合计("+this.totalTableData.length+"行)","output"==this.type){var t,l=0,o=0,n=0,r=0,i=Object(a["a"])(this.totalTableData);try{for(i.s();!(t=i.n()).done;){var s=t.value;l+=""==s.totalAmountWithoutTax||null==s.totalAmountWithoutTax?0:parseFloat(s.totalAmountWithoutTax),o+=""==s.totalTaxAmount||null==s.totalTaxAmount?0:parseFloat(s.totalTaxAmount),n+=""==s.totalAmount||null==s.totalAmount?0:parseFloat(s.totalAmount),r+=""==s.totalDiffe||null==s.totalDiffe?0:parseFloat(s.totalDiffe)}}catch(b){i.e(b)}finally{i.f()}e[0].column1="不含税金额合计:"+l.toFixed(2),e[0].column2="税额合计:"+o.toFixed(2),e[0].column3="价税合计:"+n.toFixed(2),e[0].column4="误差合计:"+r.toFixed(2)}else if("gx"==this.type){var u,c=0,p=0,m=0,d=Object(a["a"])(this.totalTableData);try{for(d.s();!(u=d.n()).done;){var f=u.value;c+=""==f.totalWithoutAmount||null==f.totalWithoutAmount?0:parseFloat(f.totalWithoutAmount),p+=""==f.taxAmount||null==f.taxAmount?0:parseFloat(f.taxAmount),m+=""==f.validTaxAmount||null==f.validTaxAmount?0:parseFloat(f.validTaxAmount)}}catch(b){d.e(b)}finally{d.f()}e[0].column1="金额合计:"+c.toFixed(2),e[0].column2="税额合计:"+p.toFixed(2),e[0].column3="有效税额合计:"+m.toFixed(2),e.push({name:"全部行:"+(this.allTotalTableData.ALL_COUNT||0),column1:"全部金额合计:"+(this.allTotalTableData.ALL_TAXAMOUNT||0).toFixed(2),column2:"全部税额合计:"+(this.allTotalTableData.ALL_TOTAL_WITHOUT_AMOUNT||0).toFixed(2),column3:"全部有效税额合计:"+(this.allTotalTableData.ALL_VALID_TAXAMOUNT||0).toFixed(2)})}return e}}}),i=r,s=l("2877"),u=Object(s["a"])(i,o,n,!1,null,"c5b67310",null);t["default"]=u.exports},ba69:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{attrs:{title:e.title,visible:e.open,width:"1200px","append-to-body":"",id:"billManagerModal"},on:{"update:visible":function(t){e.open=t}}},[l("div",{staticClass:"pull-right operation-btn"},[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.transformTax}},[e._v("转换")])],1),l("div",{staticClass:"clearfix"}),l("div",{staticClass:"billManger-body"},[l("el-form",{ref:"form",attrs:{model:e.form,size:"small","label-width":"110px"}},[l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"}},[l("el-col",{attrs:{span:8}},[l("el-row",[l("el-row",[l("el-col",{attrs:{span:20}},[l("el-form-item",{attrs:{label:"单据编码",prop:"billNo"}},[l("el-input",{attrs:{maxlength:30,disabled:"",clearable:""},model:{value:e.form.billNo,callback:function(t){e.$set(e.form,"billNo",t)},expression:"form.billNo"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:20}},[l("el-form-item",{attrs:{label:"发票种类",prop:"invType"}},[l("el-select",{attrs:{disabled:""},model:{value:e.form.invType,callback:function(t){e.$set(e.form,"invType",t)},expression:"form.invType"}},e._l(e.invTypeOptions,(function(e){return l("el-option",{key:e.dictValue,attrs:{value:e.dictValue,label:e.dictLabel}})})),1)],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:20}},[l("el-form-item",{attrs:{label:"是否清单",prop:"detailFlag"}},[l("el-input",{attrs:{maxlength:30,disabled:""},model:{value:e.form.detailFlag,callback:function(t){e.$set(e.form,"detailFlag",t)},expression:"form.detailFlag"}})],1)],1)],1)],1)],1),l("el-col",{attrs:{span:8}},[l("el-row",[l("el-divider",{attrs:{"content-position":"center"}},[e._v(e._s(e.fplxdesc))])],1),l("el-row",["1"==e.redFlag?l("el-alert",{attrs:{title:"红票",type:"error",center:"",closable:!1}}):"1"==e.cancelFlag?l("el-alert",{attrs:{title:"作废票",type:"info",center:"",closable:!1}}):l("el-alert",{attrs:{title:"正常",type:"success",center:"",closable:!1}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-row",[l("el-col",{attrs:{span:21}},[l("el-form-item",{attrs:{label:"发票代码"}},[l("el-input",{attrs:{maxlength:100,disabled:""},model:{value:e.form.invCode,callback:function(t){e.$set(e.form,"invCode","string"===typeof t?t.trim():t)},expression:"form.invCode"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:21}},[l("el-form-item",{attrs:{label:"发票号码"}},[l("el-input",{attrs:{maxlength:11,disabled:""},model:{value:e.form.invNo,callback:function(t){e.$set(e.form,"invNo","string"===typeof t?t.trim():t)},expression:"form.invNo"}})],1)],1)],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px"}},[l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"客户名称",prop:"buyName"}},[l("el-input",{attrs:{maxlength:100,disabled:""},model:{value:e.form.buyName,callback:function(t){e.$set(e.form,"buyName","string"===typeof t?t.trim():t)},expression:"form.buyName"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"购方识别号",prop:"buyTaxNo"}},[l("el-input",{attrs:{maxlength:20,disabled:""},model:{value:e.form.buyTaxNo,callback:function(t){e.$set(e.form,"buyTaxNo",t)},expression:"form.buyTaxNo"}})],1)],1),l("el-col",{attrs:{span:23}},[l("el-form-item",{attrs:{label:"购方地址电话",prop:"buyAddrTel"}},[l("el-input",{attrs:{maxlength:100,disabled:""},model:{value:e.form.buyAddrTel,callback:function(t){e.$set(e.form,"buyAddrTel",t)},expression:"form.buyAddrTel"}})],1)],1),l("el-col",{attrs:{span:23}},[l("el-form-item",{attrs:{label:"购方开户行及账号",prop:"buyBankAccount"}},[l("el-input",{attrs:{maxlength:100,disabled:""},model:{value:e.form.buyBankAccount,callback:function(t){e.$set(e.form,"buyBankAccount",t)},expression:"form.buyBankAccount"}})],1)],1),l("el-col",{attrs:{span:11}},[l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"51"==this.form.invType||"52"==this.form.invType,expression:"this.form.invType == '51' || this.form.invType == '52'"}],attrs:{label:"购方邮箱",prop:"buyEmail"}},[l("el-input",{attrs:{disabled:""},model:{value:e.form.buyEmail,callback:function(t){e.$set(e.form,"buyEmail","string"===typeof t?t.trim():t)},expression:"form.buyEmail"}})],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"51"==this.form.invType||"52"==this.form.invType,expression:"this.form.invType == '51' || this.form.invType == '52'"}],attrs:{label:"购方手机",prop:"buyTelNo"}},[l("el-input",{attrs:{disabled:""},model:{value:e.form.buyTelNo,callback:function(t){e.$set(e.form,"buyTelNo","string"===typeof t?t.trim():t)},expression:"form.buyTelNo"}})],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px"}},[l("el-col",[l("el-table",{ref:"billDetailTable",staticStyle:{width:"100%"},attrs:{data:e.billDetailsData,"max-height":"250"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),l("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.checkboxInit}}),l("el-table-column",{attrs:{label:"商品编码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{readonly:""},model:{value:t.row.goodsCode,callback:function(l){e.$set(t.row,"goodsCode",l)},expression:"scope.row.goodsCode"}})]}}])}),l("el-table-column",{attrs:{label:"简称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.goodsNameAbbreviation,callback:function(l){e.$set(t.row,"goodsNameAbbreviation",l)},expression:"scope.row.goodsNameAbbreviation"}})]}}])}),l("el-table-column",{attrs:{label:"货物名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.goodsName,callback:function(l){e.$set(t.row,"goodsName",l)},expression:"scope.row.goodsName"}})]}}])}),l("el-table-column",{attrs:{label:"税收分类编码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.taxTypeCode,callback:function(l){e.$set(t.row,"taxTypeCode",l)},expression:"scope.row.taxTypeCode"}})]}}])}),l("el-table-column",{attrs:{label:"规格型号",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.standard,callback:function(l){e.$set(t.row,"standard",l)},expression:"scope.row.standard"}})]}}])}),l("el-table-column",{attrs:{prop:"unit",label:"单位",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.unit,callback:function(l){e.$set(t.row,"unit",l)},expression:"scope.row.unit"}})]}}])}),l("el-table-column",{attrs:{label:"数量",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.number,callback:function(l){e.$set(t.row,"number",l)},expression:"scope.row.number"}})]}}])}),"0"===e.hsbz?l("el-table-column",{attrs:{label:"(不含税)单价",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.withoutTaxPrice,callback:function(l){e.$set(t.row,"withoutTaxPrice",l)},expression:"scope.row.withoutTaxPrice"}})]}}],null,!1,2015419679)}):"1"===e.hsbz?l("el-table-column",{attrs:{label:"(含税)单价",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.taxPrice,callback:function(l){e.$set(t.row,"taxPrice",l)},expression:"scope.row.taxPrice"}})]}}])}):e._e(),"0"===e.hsbz?l("el-table-column",{attrs:{label:"(不含税)金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.amountWithoutTax,callback:function(l){e.$set(t.row,"amountWithoutTax",l)},expression:"scope.row.amountWithoutTax"}})]}}],null,!1,2295175998)}):"1"===e.hsbz?l("el-table-column",{attrs:{label:"(含税)金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.amountWithTax,callback:function(l){e.$set(t.row,"amountWithTax",l)},expression:"scope.row.amountWithTax"}})]}}])}):e._e(),l("el-table-column",{attrs:{prop:"name",label:"税率",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.rate,callback:function(l){e.$set(t.row,"rate",l)},expression:"scope.row.rate"}})]}}])}),l("el-table-column",{attrs:{label:"税额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{disabled:""},model:{value:t.row.taxAmount,callback:function(l){e.$set(t.row,"taxAmount",l)},expression:"scope.row.taxAmount"}})]}}])})],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px"}},[l("el-col",[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.totalTableData,"show-header":!1}},[l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"name"}}),l("el-table-column",{attrs:{"min-width":"2",align:"center",prop:"column1"}}),l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column2"}}),l("el-table-column",{attrs:{"min-width":"1",align:"center",prop:"column3"}})],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px"}},[l("el-col",{attrs:{span:12}},[l("el-row",[l("el-col",[l("el-form-item",{attrs:{label:"销方名称",prop:"sellName"}},[l("el-input",{attrs:{maxlength:50,disabled:""},model:{value:e.form.sellName,callback:function(t){e.$set(e.form,"sellName","string"===typeof t?t.trim():t)},expression:"form.sellName"}})],1)],1)],1),l("el-row",[l("el-col",[l("el-form-item",{attrs:{label:"销方税号",prop:"sellTaxNo"}},[l("el-input",{attrs:{maxlength:20,disabled:""},model:{value:e.form.sellTaxNo,callback:function(t){e.$set(e.form,"sellTaxNo","string"===typeof t?t.trim():t)},expression:"form.sellTaxNo"}})],1)],1)],1)],1),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"备注",prop:"note"}},[l("el-input",{attrs:{type:"textarea",rows:4,maxlength:230,disabled:""},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1),l("el-col",[l("el-row",[l("el-col",{attrs:{span:23}},[l("el-form-item",{attrs:{label:"销方地址电话",prop:"sellAddrTel"}},[l("el-input",{attrs:{maxlength:200,disabled:""},model:{value:e.form.sellAddrTel,callback:function(t){e.$set(e.form,"sellAddrTel",t)},expression:"form.sellAddrTel"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:23}},[l("el-form-item",{attrs:{label:"销方开户行及账号",prop:"sellBankAccount"}},[l("el-input",{attrs:{maxlength:200,disabled:""},model:{value:e.form.sellBankAccount,callback:function(t){e.$set(e.form,"sellBankAccount",t)},expression:"form.sellBankAccount"}})],1)],1)],1)],1)],1),l("el-row",{staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)","margin-top":"5px"}},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"收款人",prop:"cashier"}},[l("el-input",{attrs:{maxlength:10,disabled:""},model:{value:e.form.cashier,callback:function(t){e.$set(e.form,"cashier","string"===typeof t?t.trim():t)},expression:"form.cashier"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"复核人",prop:"checker"}},[l("el-input",{attrs:{maxlength:10,disabled:""},model:{value:e.form.checker,callback:function(t){e.$set(e.form,"checker","string"===typeof t?t.trim():t)},expression:"form.checker"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"开票人",prop:"invoicer"}},[l("el-input",{attrs:{maxlength:10,disabled:""},model:{value:e.form.invoicer,callback:function(t){e.$set(e.form,"invoicer","string"===typeof t?t.trim():t)},expression:"form.invoicer"}})],1)],1)],1)],1)],1)])],1)},n=[],a=(l("b680"),l("d3b7"),l("25f0"),l("c394"),l("2f3d")),r={name:"historyDetailShowModal",props:{},data:function(){return{form:{billNo:"",invType:"2",detailFlag:"0",invCode:"",invNo:"",buyEmail:"",buyTelNo:"",buyName:"",buyTaxNo:"",buyAddrTel:"",buyBankAccount:"",sellName:"",sellTaxNo:"",sellAddrTel:"",sellBankAccount:"",note:"",cashier:"",checker:"",invoicer:"",totalAmount:"0.00 ",totalAmountWithoutTax:"0.00",totalTaxAmount:"0.00"},cancelFlag:"",redFlag:"",hsbz:"0",fplxdesc:"增值税普通发票",billDetailsData:[{index:0,goodsCode:"",goodsNameAbbreviation:"",goodsName:"",taxTypeCode:"",standard:"",units:"",number:"",taxPrice:"",withoutTaxPrice:"",amountWithTax:"",amountWithoutTax:"",rate:"",taxAmount:""}],open:!1,title:"发票详情",invTypeOptions:[],detailFlagOptions:[],taxPlateIdOptions:[{value:"测试",label:"测试税盘"}],taxRateOptions:[],showWithTax:!0,testData:[{value:"客户名称1",billBuyName:"客户名称1",billBuyTaxNo:"购方税号1",billBuyAddrTel:"购方地址1",billBuyBankAccount:"购方银行账号1"},{value:"客户名称2",billBuyName:"客户名称2",billBuyTaxNo:"购方税号2",billBuyAddrTel:"购方地址2",billBuyBankAccount:"购方银行账号2"},{value:"客户名称3",billBuyName:"客户名称3",billBuyTaxNo:"购方税号3",billBuyAddrTel:"购方地址3",billBuyBankAccount:"购方银行账号3"},{value:"客户名称4",billBuyName:"客户名称4",billBuyTaxNo:"购方税号4",billBuyAddrTel:"购方地址4",billBuyBankAccount:"购方银行账号4"}]}},watch:{},computed:{totalAmountUpperCase:function(){return this.swapper(this.form.totalAmount)},totalTableData:function(){var e=[{name:"合计",column1:"",column2:"",column3:""},{name:"价税合计",column1:"",column2:"",column3:""}];return"1"==this.hsbz?e[0].column2=this.form.totalAmount:e[0].column2=this.form.totalAmountWithoutTax,e[0].column3=this.form.totalTaxAmount,e[1].column1=this.totalAmountUpperCase,e[1].column2=this.form.totalAmount,e}},created:function(){var e=this;Object(a["g"])("output_inv_type").then((function(t){e.invTypeOptions=t.data})),Object(a["g"])("sys_yes_no_num").then((function(t){e.detailFlagOptions=t.data}))},mounted:function(){},methods:{checkboxInit:function(e,t){return 0},fillBillDialog:function(e){var t=this;return Object(a["e"])(e).then((function(e){var l=e.data;t.form.billNo=l.billNo,t.form.invCode=l.invCode,t.form.invNo=l.invNo,t.fplxdesc=t.selectDictLabel(t.invTypeOptions,l.invType),t.form.invType=l.invType,t.form.detailFlag=t.selectDictLabel(t.detailFlagOptions,l.detailFlag),t.form.buyEmail=l.buyEmail,t.form.buyTelNo=l.buyTelNo,t.form.buyName=l.buyName,t.form.buyTaxNo=l.buyTaxNo,t.form.buyAddrTel=l.buyAddrTel,t.form.buyBankAccount=l.buyBankAccount,t.form.sellName=l.sellName,t.form.sellTaxNo=l.sellTaxNo,t.form.sellAddrTel=l.sellAddrTel,t.form.sellBankAccount=l.sellBankAccount,t.form.totalAmount=l.totalAmount,t.form.totalAmountWithoutTax=l.totalAmountWithoutTax,t.form.totalTaxAmount=l.totalTaxAmount,t.form.note=l.note,t.form.cashier=l.cashier,t.form.checker=l.checker,t.form.invoicer=l.invoicer;var o=l.details;if(t.billDetailsData.length=0,null!=o&&void 0!=o)for(var n=0;n<o.length;n++){var a=o[n];a.index=n,a.rate=t.transformRate(a),t.billDetailsData.push(a)}t.cancelFlag=l.cancelFlag,t.redFlag=l.redFlag,t.open=!0,t.title="发票详情"}))},transformRate:function(e){return void 0==e.rate||null==e.rate?"":(e.rate=e.rate.toFixed(0),"0"==e.rate?"0"==e.preferentialFlag?e.rate.toString()+"%":e.preferentialType:e.rate.toString()+"%")},transformTax:function(){"0"==this.hsbz?this.hsbz="1":this.hsbz="0"},handleSelectionChange:function(e){console.log(e)}}},i=r,s=(l("2010"),l("2877")),u=Object(s["a"])(i,o,n,!1,null,null,null);t["default"]=u.exports},c394:function(e,t,l){"use strict";l.d(t,"u",(function(){return r})),l.d(t,"p",(function(){return i})),l.d(t,"o",(function(){return s})),l.d(t,"E",(function(){return u})),l.d(t,"g",(function(){return c})),l.d(t,"l",(function(){return p})),l.d(t,"c",(function(){return m})),l.d(t,"w",(function(){return d})),l.d(t,"F",(function(){return f})),l.d(t,"q",(function(){return b})),l.d(t,"b",(function(){return h})),l.d(t,"x",(function(){return y})),l.d(t,"m",(function(){return g})),l.d(t,"a",(function(){return v})),l.d(t,"G",(function(){return x})),l.d(t,"f",(function(){return w})),l.d(t,"j",(function(){return T})),l.d(t,"k",(function(){return N})),l.d(t,"A",(function(){return O})),l.d(t,"n",(function(){return k})),l.d(t,"d",(function(){return A})),l.d(t,"C",(function(){return j})),l.d(t,"y",(function(){return C})),l.d(t,"B",(function(){return S})),l.d(t,"z",(function(){return F})),l.d(t,"v",(function(){return _})),l.d(t,"D",(function(){return $})),l.d(t,"e",(function(){return D})),l.d(t,"t",(function(){return P})),l.d(t,"r",(function(){return z})),l.d(t,"s",(function(){return B})),l.d(t,"i",(function(){return L})),l.d(t,"h",(function(){return I}));var o=l("b775"),n=l("4328"),a=l.n(n);function r(e){return Object(o["a"])({url:"/output/invoice/list",method:"get",params:e,paramsSerializer:function(e){return a.a.stringify(e,{arrayFormat:"repeat"})}})}function i(e){return Object(o["a"])({url:"/output/invoice/getInfo",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/output/invoice/getInfoByInvNo",method:"get",params:e})}function u(e){return Object(o["a"])({url:"/output/invoice/signElectronic",method:"post",params:e})}function c(e){return Object(o["a"])({url:"/output/invoice/downloadPdf",method:"get",params:e,responseType:"blob"})}function p(e){return Object(o["a"])({url:"/output/invoice/flagCancel",method:"post",params:e})}function m(e){return Object(o["a"])({url:"/output/invoice/checkEnableRed",method:"post",params:e})}function d(e){return Object(o["a"])({url:"/output/invoice/openRedInvoice",method:"post",params:e})}function f(e){return Object(o["a"])({url:"/output/invoice/rewrite",method:"post",params:e})}function b(e){return Object(o["a"])({url:"/output/invoice/getNeedRedInfo",method:"get",params:e})}function h(e){return Object(o["a"])({url:"/output/invoice/cancelInvoice",method:"post",params:e})}function y(e){return Object(o["a"])({url:"/output/invoice/powerCancelInvoice",method:"post",params:e})}function g(e){return Object(o["a"])({url:"/output/invoice/flagRed",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/output/invoice",method:"post",data:e})}function x(e){return Object(o["a"])({url:"/output/invoice/edit",method:"put",data:e})}function w(e){return Object(o["a"])({url:"/output/invoice/"+e,method:"delete"})}function T(e){return Object(o["a"])({url:"/output/invoice/export",method:"post",data:e,responseType:"blob"})}function N(e){return Object(o["a"])({url:"/output/invoice/exportDetail",method:"post",data:e,responseType:"blob"})}function O(e){return Object(o["a"])({url:"/output/invoice/pushEmail",method:"post",params:e})}function k(e){return Object(o["a"])({url:"/output/invoice/getInfoByInvCodeNo",method:"get",params:e})}function A(e){return Object(o["a"])({url:"/output/invoice/checkIfAllSplitBill",method:"get",params:e})}function j(e){return Object(o["a"])({url:"/output/invoice/releaseToBill",method:"post",params:e})}function C(e){return Object(o["a"])({url:"/output/invoice/printInvoice",method:"post",params:e})}function S(e){return Object(o["a"])({url:"/output/invoice/pushSms",method:"post",params:e})}function F(e){return Object(o["a"])({url:"/output/invoice/pushCard",method:"post",params:e})}function _(e){return Object(o["a"])({url:"/output/invoice/getPrintInvoice",method:"post",params:e})}function $(e){return Object(o["a"])({url:"/output/invoice/repairInvoice",method:"get",params:e})}function D(e){return Object(o["a"])({url:"/output/invoice/dealPrintResult",method:"post",params:e})}function P(e){return Object(o["a"])({url:"/output/invoice/getRedInvoiceByOriginal",method:"get",params:e})}function z(e){return Object(o["a"])({url:"/output/invoice/getOuputTaxnoTypeList",method:"post",params:e,paramsSerializer:function(e){return a.a.stringify(e,{arrayFormat:"repeat"})}})}function B(){return Object(o["a"])({url:"/output/invoice/getPrinterName",method:"get"})}function L(e){return Object(o["a"])({url:"/output/invoice/downloadOfflinePdf",method:"post",data:e,responseType:"blob"})}function I(e){return Object(o["a"])({url:"/output/invoice/downloadOfflineOfd",method:"post",data:e,responseType:"blob"})}},c9fb:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"130px"}},[l("el-form-item",{attrs:{label:"发票代码",prop:"invCode"}},[l("el-input",{attrs:{placeholder:"请输入发票代码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.invCode,callback:function(t){e.$set(e.queryParams,"invCode",t)},expression:"queryParams.invCode"}})],1),l("el-form-item",{attrs:{label:"发票号码",prop:"invNo"}},[l("el-input",{attrs:{placeholder:"请输入发票号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.invNo,callback:function(t){e.$set(e.queryParams,"invNo",t)},expression:"queryParams.invNo"}})],1),l("el-form-item",{attrs:{label:"开票日期",prop:"invDate"}},[l("el-date-picker",{staticStyle:{width:"240px"},attrs:{clearable:"",size:"small",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),l("el-form-item",{attrs:{label:"发票类型",prop:"invType"}},[l("el-select",{attrs:{placeholder:"请选择发票类型",clearable:"",size:"small"},model:{value:e.queryParams.invType,callback:function(t){e.$set(e.queryParams,"invType",t)},expression:"queryParams.invType"}},[e._l(e.invTypeOptions,(function(t){return"12"==t.dictValue||"0"==t.dictValue?l("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}}):e._e()})),l("el-option",{attrs:{value:"12",label:"机动车"}})],2)],1),l("el-form-item",{attrs:{label:"清单标志",prop:"detailFlag"}},[l("el-select",{attrs:{placeholder:"请选择清单标志",clearable:"",size:"small"},model:{value:e.queryParams.detailFlag,callback:function(t){e.$set(e.queryParams,"detailFlag",t)},expression:"queryParams.detailFlag"}},e._l(e.detailFlagOptions,(function(e){return l("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),l("el-form-item",{attrs:{label:"客户名称",prop:"buyName"}},[l("el-input",{attrs:{placeholder:"请输入客户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.buyName,callback:function(t){e.$set(e.queryParams,"buyName",t)},expression:"queryParams.buyName"}})],1),l("el-form-item",{attrs:{label:"购方税号",prop:"buyTaxNo"}},[l("el-input",{attrs:{placeholder:"请输入购方纳税人识别号",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.buyTaxNo,callback:function(t){e.$set(e.queryParams,"buyTaxNo",t)},expression:"queryParams.buyTaxNo"}})],1),l("el-form-item",{attrs:{label:"发票状态",prop:"redFlag"}},[l("el-select",{attrs:{placeholder:"请选择发票状态",clearable:"",size:"small"},model:{value:e.queryParams.redFlag,callback:function(t){e.$set(e.queryParams,"redFlag",t)},expression:"queryParams.redFlag"}},e._l(e.redFlagOptions,(function(t){return"2"!=t.dictValue?l("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}}):e._e()})),1)],1),l("el-form-item",{attrs:{label:"车架号",prop:"buyName"}},[l("el-input",{staticStyle:{width:"475px"},attrs:{type:"textarea",rows:1,placeholder:"请输入单据编号",clearable:"",size:"small"},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)},function(t){return e.businessNosChange(t)}]},model:{value:e.queryParams.text,callback:function(t){e.$set(e.queryParams,"text","string"===typeof t?t.trim():t)},expression:"queryParams.text"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("查询")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-row",{ref:"operationDom",staticClass:"mb8",attrs:{gutter:10}},[l("el-col",{attrs:{span:1.5}},[l("el-button",{attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),l("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),l("u-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"historyMainTable",attrs:{data:e.historyList,height:e.tableHeight,"use-virtual":"","row-height":40,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange,"row-click":e.currClickRow,select:e.checkboxSelect,"sort-change":e.changeTableSort}},[l("u-table-column",{attrs:{type:"index",align:"center",width:"50",label:"序号"}}),l("u-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._l(e.columnsArr,(function(t,o){return t.show?l("u-table-column",{key:o,attrs:{label:t.label,align:t.align,prop:t.prop,width:t.width,"show-overflow-tooltip":!0,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(o){return["id"==t.prop?l("span",{staticStyle:{color:"rgb(24, 144, 255)",cursor:"pointer"},on:{click:function(t){return e.showInvoiceDetail(o.row)}}},[e._v(" "+e._s(o.row[t.prop])+" ")]):"invType"==t.prop?l("span",[e._v(" "+e._s(e.invTypeFormat(o.row))+" ")]):"detailFlag"==t.prop?l("span",[e._v(" "+e._s(e.detailFlagFormat(o.row))+" ")]):"redFlag"==t.prop?l("span",[e._v(" "+e._s(e.redFlagFormat(o.row))+" ")]):"cancelFlag"==t.prop?l("span",[e._v(" "+e._s(e.cancelFlagFormat(o.row))+" ")]):l("span",[e._v(e._s(o.row[t.prop]))])]}}],null,!0)}):e._e()}))],2),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],ref:"pagingDom",attrs:{total:e.total,page:e.queryParams.pageNum,"page-sizes":e.pageSizes,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:pageSizes":function(t){e.pageSizes=t},"update:page-sizes":function(t){e.pageSizes=t},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("history-detail-show-modal",{ref:"showModal"}),l("history-vehicle-detail-show-modal",{ref:"vehicleShowModal"}),e.showProgress?l("my-el-progress",{ref:"myProgress",attrs:{functionName:e.functionName}}):e._e()],1)},n=[],a=l("b85c"),r=(l("d81d"),l("ac1f"),l("5319"),l("498a"),l("ba69")),i=l("994d"),s=l("b526"),u=l("2f3d"),c=l("ed08"),p={name:"singlehistory",components:{HistoryDetailShowModal:r["default"],HistoryVehicleDetailShowModal:i["default"],TotalRowTable:s["default"]},data:function(){return{module:"history",tableHeight:null,pageSizes:[],loading:!0,ids:[],rows:[],single:!0,multiple:!0,showSearch:!0,total:0,historyList:[],title:"",open:!1,invTypeOptions:[],detailFlagOptions:[],redFlagOptions:[{dictValue:"0",dictLabel:"正数"},{dictValue:"1",dictLabel:"负数"}],cancelFlagOptions:[],printedFlagOptions:[],signFlagOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:500,invCode:null,invNo:null,invCodeNo:null,invDate:null,invType:null,detailFlag:null,buyName:null,buyNumber:null,buyTaxNo:null,buyBankAccount:null,buyAddrTel:null,buyEmail:null,buyTelNo:null,note:null,sellName:null,sellTaxNo:null,sellAddrTel:null,sellBankAccount:null,goodsVersion:null,cashier:null,checker:null,invoicer:null,totalTaxAmount:null,totalAmount:null,totalAmountWithoutTax:null,totalAmountWithoutTaxNoRed:null,sourceInvCode:null,sourceInvNo:null,redFlag:null,cancelFlag:null,negNativeNo:null,taxnoInfo:null,printedFlag:null,pushedFlag:null,pdfUrl:null,pwdCode:null,checkCode:null,machineNo:null,signFlag:null,ewm:null,deptId:null,ext1:null,ext2:null,ext3:null,ext4:null,ext5:null,billNumber:null},form:{},rules:{},columnsArr:[{label:"车架号",prop:"ext3",align:"center",show:!0,width:220,columnSort:0},{label:"客户名称",prop:"buyName",align:"center",show:!0,width:220,columnSort:7},{label:"销方名称",prop:"sellName",align:"center",show:!0,width:220,columnSort:15},{label:"发票代码",prop:"invCode",align:"center",show:!0,width:220,columnSort:1},{label:"发票号码",prop:"invNo",align:"center",show:!0,width:220,columnSort:2},{label:"开票日期",prop:"invDate",align:"center",show:!0,width:220,columnSort:4},{label:"发票类型",prop:"invType",align:"center",show:!0,width:220,columnSort:5},{label:"发票状态",prop:"redFlag",align:"center",show:!0,width:220,columnSort:25},{label:"清单标志",prop:"detailFlag",align:"center",show:!0,width:220,columnSort:6},{label:"购方税号",prop:"buyTaxNo",align:"center",show:!0,width:220,columnSort:9},{label:"购方开户账号",prop:"buyBankAccount",align:"center",show:!0,width:220,columnSort:10},{label:"购方地址电话",prop:"buyAddrTel",align:"center",show:!0,width:220,columnSort:11},{label:"备注",prop:"note",align:"center",show:!0,width:220,columnSort:14},{label:"销方税号",prop:"sellTaxNo",align:"center",show:!0,width:220,columnSort:16},{label:"销方地址及电话",prop:"sellAddrTel",align:"center",show:!0,width:220,columnSort:17},{label:"销方银行及账号",prop:"sellBankAccount",align:"center",show:!0,width:220,columnSort:18},{label:"收款人",prop:"cashier",align:"center",show:!0,width:220,columnSort:19},{label:"复核人",prop:"checker",align:"center",show:!0,width:220,columnSort:20},{label:"开票人",prop:"invoicer",align:"center",show:!0,width:220,columnSort:21}],checkboxClick:!1,sortParam:{column:null,columnOrder:null},showProgress:!1,functionName:"",loadingTime:null}},computed:{totalTableData:function(){var e=Object(c["e"])(this.rows);return 0==e.length&&(e=Object(c["e"])(this.historyList)),e}},created:function(){var e=this;this.getList(),Object(u["g"])("output_inv_type").then((function(t){e.invTypeOptions=t.data})),Object(u["g"])("sys_yes_no_num").then((function(t){e.detailFlagOptions=t.data})),Object(u["g"])("sys_yes_no_num").then((function(t){e.cancelFlagOptions=t.data})),Object(u["g"])("sys_yes_no_num").then((function(t){e.printedFlagOptions=t.data})),Object(u["g"])("invoice_sign_status").then((function(t){e.signFlagOptions=t.data})),Object(u["g"])("sys_page_sizes").then((function(t){console.log(t);var l=t.data;e.pageSizes=[];var o,n=Object(a["a"])(l);try{for(n.s();!(o=n.n()).done;){var r=o.value;e.pageSizes.push(parseFloat(r.dictValue))}}catch(i){n.e(i)}finally{n.f()}}))},mounted:function(){var e=this;this.tableHeight=this.calcTableHeight()+84,window.onresize=function(){e.tableHeight=e.calcTableHeight()+84}},activated:function(){var e=this;this.tableHeight=this.calcTableHeight()+84,window.onresize=function(){e.tableHeight=e.calcTableHeight()+84}},watch:{showSearch:function(e,t){var l=this;this.$nextTick((function(){l.tableHeight=l.calcTableHeight()+84}))}},methods:{getList:function(){var e=this;this.loading=!0;var t=Object.assign(Object(c["e"])(this.queryParams),Object(c["e"])(this.sortParam));Object(u["f"])(this.addDateRange(t,this.dateRange)).then((function(t){e.historyList=t.rows,e.total=t.total,e.loading=!1}))},businessNosChange:function(e){e.target.value=e.target.value.trim().replace(/\s+/g,","),this.queryParams.text=e.target.value},invTypeFormat:function(e,t){return this.selectDictLabel(this.invTypeOptions,e.invType)},cutDate:function(e){if(null!=e&&""!=e)return e.substring(0,10)},detailFlagFormat:function(e,t){return this.selectDictLabel(this.detailFlagOptions,e.detailFlag)},redFlagFormat:function(e,t){return this.selectDictLabel(this.redFlagOptions,e.redFlag)},cancelFlagFormat:function(e,t){return this.selectDictLabel(this.cancelFlagOptions,e.cancelFlag)},printedFlagFormat:function(e,t){return this.selectDictLabel(this.printedFlagOptions,e.printedFlag)},signFlagFormat:function(e,t){return this.selectDictLabel(this.signFlagOptions,e.signFlag)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,invCode:null,invNo:null,invCodeNo:null,invDate:null,invType:null,detailFlag:null,buyName:null,buyNumber:null,buyTaxNo:null,buyBankAccount:null,buyAddrTel:null,buyEmail:null,buyTelNo:null,note:null,sellName:null,sellTaxNo:null,sellAddrTel:null,sellBankAccount:null,goodsVersion:null,cashier:null,checker:null,invoicer:null,totalTaxAmount:null,totalAmount:null,totalAmountWithoutTax:null,totalAmountWithoutTaxNoRed:null,sourceInvCode:null,sourceInvNo:null,redFlag:null,cancelFlag:null,negNativeNo:null,taxnoInfo:null,printedFlag:null,pushedFlag:null,pdfUrl:null,pwdCode:null,checkCode:null,machineNo:null,signFlag:null,ewm:null,updateTime:null,deptId:null,ext1:null,ext2:null,ext3:null,ext4:null,ext5:null,billNumber:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){e.length<this.rows.length&&this.checkboxClick?this.checkboxClick=!1:(this.ids=e.map((function(e){return e.id})),this.single=1!==e.length,this.multiple=!e.length,this.rows=Object(c["e"])(e))},handleAdd:function(){this.reset(),this.open=!0,this.title="添加已开历史发票管理"},handleUpdate:function(e){var t=this;this.reset();var l=e.id||this.ids;Object(u["e"])(l).then((function(e){t.form=e.data,t.open=!0,t.title="修改已开历史发票管理"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.id?Object(u["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(u["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,l=e.id||this.ids;this.$confirm('是否确认删除已开历史发票管理编号为"'+l+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(u["b"])(l)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=Object(c["e"])(this.queryParams);this.ids.length>0&&(t.idsArr=this.ids),this.$confirm("是否确认导出所有已开历史发票数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.dynamicLoadingShow(10,"导出中"),Object(u["c"])(t)})).then((function(t){e.showProgress=!1,clearInterval(e.loadingTime),e.currencyDownload(t,"已开历史发票.xls",e)})).catch((function(){}))},handleExportDetail:function(){var e=this,t=Object(c["e"])(this.queryParams);this.ids.length>0&&(t.idsArr=this.ids),this.$confirm("是否确认导出所有已开历史发票明细数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.dynamicLoadingShow(10,"导出中"),Object(u["d"])(t)})).then((function(t){e.showProgress=!1,clearInterval(e.loadingTime),e.currencyDownload(t,"已开历史发票明细.xls",e)})).catch((function(){}))},currClickRow:function(e,t,l){var o={row:e},n=[];n.push(o),this.$refs.historyMainTable.toggleRowSelection(n),this.selectMiddleRow(e,this.rows,this.historyList,"historyMainTable")},checkboxSelect:function(e,t){this.selectMiddleRow(t,this.rows,this.historyList,"historyMainTable"),this.$store.state.app.shiftKeyDown&&(this.checkboxClick=!0)},tableRowClassName:function(e){var t=e.row,l=e.rowIndex;t.row_index=l},changeTableSort:function(e){var t=e.column,l=e.prop,o=e.order;console.log(t+"==="+l+"==="+o),this.sortParam.column=l.replace(/([A-Z])/g,"_$1").toLowerCase(),this.sortParam.columnOrder="ascending"==o?"ASC":"descending"==o?"DESC":null,this.getList()},showInvoiceDetail:function(e){var t={id:e.id,invDate:e.invDate};"12"==e.invType?this.$refs.vehicleShowModal.fillInvoiceDialog(t):this.$refs.showModal.fillBillDialog(t)},dynamicLoadingShow:function(e,t){var l=this,o=this.ids.length;0==this.ids.length&&(o=this.total);var n=o*e/100,a=1;this.showProgress=!0,this.functionName=t,this.$nextTick((function(){l.$refs.myProgress.setProgressNum(1)})),this.loadingTime=setInterval((function(){a++,a<=99&&l.$refs.myProgress.progressGrow(a)}),n)}}},m=p,d=l("2877"),f=Object(d["a"])(m,o,n,!1,null,null,null);t["default"]=f.exports},d233:function(e,t,l){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){var t;while(e.length){var l=e.pop();if(t=l.obj[l.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&o.push(t[n]);l.obj[l.prop]=o}}return t},r=function(e,t){for(var l=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(l[o]=e[o]);return l},i=function e(t,l,n){if(!l)return t;if("object"!==typeof l){if(Array.isArray(t))t.push(l);else{if(!t||"object"!==typeof t)return[t,l];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,l))&&(t[l]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(l);var a=t;return Array.isArray(t)&&!Array.isArray(l)&&(a=r(t,n)),Array.isArray(t)&&Array.isArray(l)?(l.forEach((function(l,a){if(o.call(t,a)){var r=t[a];r&&"object"===typeof r&&l&&"object"===typeof l?t[a]=e(r,l,n):t.push(l)}else t[a]=l})),t):Object.keys(l).reduce((function(t,a){var r=l[a];return o.call(t,a)?t[a]=e(t[a],r,n):t[a]=r,t}),a)},s=function(e,t){return Object.keys(t).reduce((function(e,l){return e[l]=t[l],e}),e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},c=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),l="",o=0;o<t.length;++o){var a=t.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?l+=t.charAt(o):a<128?l+=n[a]:a<2048?l+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?l+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(o)),l+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return l},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],l=[],o=0;o<t.length;++o)for(var n=t[o],r=n.obj[n.prop],i=Object.keys(r),s=0;s<i.length;++s){var u=i[s],c=r[u];"object"===typeof c&&null!==c&&-1===l.indexOf(c)&&(t.push({obj:r,prop:u}),l.push(c))}return a(t)},m=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},d=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:r,assign:s,compact:p,decode:u,encode:c,isBuffer:d,isRegExp:m,merge:i}}}]);
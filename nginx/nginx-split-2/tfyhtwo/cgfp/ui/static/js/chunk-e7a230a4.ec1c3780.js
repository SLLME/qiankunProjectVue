(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7a230a4"],{4127:function(e,t,a){"use strict";var l=a("d233"),r=a("b313"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,n=Array.prototype.push,s=function(e,t){n.apply(e,o(t)?t:[t])},c=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:l.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,a,r,i,n,c,p,d,f,m,b,h){var y=t;if("function"===typeof p?y=p(a,y):y instanceof Date&&(y=m(y)),null===y){if(i)return c&&!h?c(a,u.encoder):a;y=""}if("string"===typeof y||"number"===typeof y||"boolean"===typeof y||l.isBuffer(y)){if(c){var g=h?a:c(a,u.encoder);return[b(g)+"="+b(c(y,u.encoder))]}return[b(a)+"="+b(String(y))]}var v,w=[];if("undefined"===typeof y)return w;if(o(p))v=p;else{var x=Object.keys(y);v=d?x.sort(d):x}for(var C=0;C<v.length;++C){var k=v[C];n&&null===y[k]||(o(y)?s(w,e(y[k],r(a,k),r,i,n,c,p,d,f,m,b,h)):s(w,e(y[k],a+(f?"."+k:"["+k+"]"),r,i,n,c,p,d,f,m,b,h)))}return w};e.exports=function(e,t){var a=e,n=t?l.assign({},t):{};if(null!==n.encoder&&"undefined"!==typeof n.encoder&&"function"!==typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof n.delimiter?u.delimiter:n.delimiter,d="boolean"===typeof n.strictNullHandling?n.strictNullHandling:u.strictNullHandling,f="boolean"===typeof n.skipNulls?n.skipNulls:u.skipNulls,m="boolean"===typeof n.encode?n.encode:u.encode,b="function"===typeof n.encoder?n.encoder:u.encoder,h="function"===typeof n.sort?n.sort:null,y="undefined"!==typeof n.allowDots&&n.allowDots,g="function"===typeof n.serializeDate?n.serializeDate:u.serializeDate,v="boolean"===typeof n.encodeValuesOnly?n.encodeValuesOnly:u.encodeValuesOnly;if("undefined"===typeof n.format)n.format=r["default"];else if(!Object.prototype.hasOwnProperty.call(r.formatters,n.format))throw new TypeError("Unknown format option provided.");var w,x,C=r.formatters[n.format];"function"===typeof n.filter?(x=n.filter,a=x("",a)):o(n.filter)&&(x=n.filter,w=x);var k,D=[];if("object"!==typeof a||null===a)return"";k=n.arrayFormat in i?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var T=i[k];w||(w=Object.keys(a)),h&&w.sort(h);for(var S=0;S<w.length;++S){var O=w[S];f&&null===a[O]||s(D,p(a[O],O,T,d,f,m?b:null,x,h,y,g,C,v))}var _=D.join(c),j=!0===n.addQueryPrefix?"?":"";return _.length>0?j+_:""}},4328:function(e,t,a){"use strict";var l=a("4127"),r=a("9e6a"),i=a("b313");e.exports={formats:i,parse:r,stringify:l}},6171:function(e,t,a){},"67ea":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.formsearch,inline:!0,size:"mini"}},[a("div",{staticStyle:{padding:"0 0 20px 0"}},[a("el-button",{staticClass:"search",attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-back"},on:{click:e.goback}},[e._v("返回")]),"CTAX"==e.rowData.tmpType||"JTAX"==e.rowData.tmpType||"TTAX"==e.rowData.tmpType?a("el-button",{staticClass:"search",attrs:{icon:"el-icon-circle-plus-outline",type:"primary",size:"mini"},on:{click:e.addClick}},[e._v("新增规则 ")]):e._e(),"CTAX"==e.rowData.tmpType||"JTAX"==e.rowData.tmpType||"TTAX"==e.rowData.tmpType?a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-document-copy",size:"mini"},on:{click:e.batchCopy}},[e._v("复制 ")]):e._e(),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:e.addClick}},[e._v("新增规则 ")]),a("el-button",{staticClass:"search",attrs:{type:"primary",icon:"el-icon-document-copy",size:"mini"},on:{click:e.batchCopy}},[e._v("复制 ")]),a("div",{staticStyle:{float:"right"}},[e._v("地区："),a("span",{staticClass:"yellow",staticStyle:{"margin-right":"20px"}},[e._v(e._s(e.rowData.taxAreaName))]),e._v("税种："),a("span",{staticClass:"yellow"},[e._v(e._s(e.rowData.taxName))])])],1),a("el-form-item",{attrs:{label:"规则名称:"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入规则名称",clearable:""},model:{value:e.formsearch.ruleName,callback:function(t){e.$set(e.formsearch,"ruleName",t)},expression:"formsearch.ruleName"}})],1),a("el-form-item",{attrs:{label:"规则编码:"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入规则编码",clearable:""},model:{value:e.formsearch.ruleCode,callback:function(t){e.$set(e.formsearch,"ruleCode",t)},expression:"formsearch.ruleCode"}})],1),a("el-form-item",{attrs:{label:"规则类型:"}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"请选择规则类型",filterable:"",clearable:""},model:{value:e.formsearch.ruleType,callback:function(t){e.$set(e.formsearch,"ruleType",t)},expression:"formsearch.ruleType"}},[a("el-option",{attrs:{label:"简单查询",value:"simple"}}),a("el-option",{attrs:{label:"复杂查询",value:"complex"}}),a("el-option",{attrs:{label:"接口取数",value:"interface"}})],1)],1),a("el-form-item",{attrs:{label:"启用状态:"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择启用状态",filterable:"",clearable:""},model:{value:e.formsearch.expire,callback:function(t){e.$set(e.formsearch,"expire",t)},expression:"formsearch.expire"}},[a("el-option",{key:"Y",attrs:{label:"已启用",value:"Y"}}),a("el-option",{key:"N",attrs:{label:"未启用",value:"N"}})],1)],1),a("el-form-item",[a("el-button",{staticClass:"search",attrs:{icon:"el-icon-search",plain:"",type:"primary"},on:{click:e.search}},[e._v("查询")]),a("el-button",{staticClass:"search",attrs:{icon:"el-icon-refresh-right"},on:{click:e.reset}},[e._v("重置")])],1)],1),a("div",{attrs:{id:"common-main"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight+20,stripe:"","highlight-current-row":""},on:{"selection-change":e.tableSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",fixed:""}}),a("el-table-column",{attrs:{type:"index",index:e.typeIndex,label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"ruleCode",label:"规则编码",width:"120"}}),a("el-table-column",{attrs:{prop:"ruleName",label:"规则名称",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ruleName))])]}}])}),a("el-table-column",{attrs:{prop:"ruleDataType",label:"数据类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["text"==t.row.ruleDataType?a("span",[e._v("文本")]):"numeric"==t.row.ruleDataType?a("span",[e._v("数字")]):"dropdown"==t.row.ruleDataType?a("span",[e._v("下拉框")]):"checkbox"==t.row.ruleDataType?a("span",[e._v("复选框")]):"date"==t.row.ruleDataType?a("span",[e._v("日期")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"ruleFetch",label:"取数类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["singleRowCol"==t.row.ruleFetch?a("span",[e._v("单行单列")]):"multipleRowCol"==t.row.ruleFetch?a("span",[e._v("多行多列")]):"singleRowMultipleCol"==t.row.ruleFetch?a("span",[e._v("单行多列")]):"multipleRowSingleCol"==t.row.ruleFetch?a("span",[e._v("多行单列")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"ruleType",label:"规则类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["simple"==t.row.ruleType?a("span",[e._v("简单查询")]):"complex"==t.row.ruleType?a("span",[e._v("复杂查询")]):"interface"==t.row.ruleType?a("span",[e._v("接口取数")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"taxAreaName",label:"规则来源",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.taxArea!=e.rowData.taxArea?a("span",{staticClass:"blue"},[e._v(e._s(t.row.taxAreaName))]):a("span",[e._v(e._s(t.row.taxAreaName))])]}}])}),a("el-table-column",{attrs:{prop:"ruleAttr",label:"规则属性"},scopedSlots:e._u([{key:"default",fn:function(t){return["system"==t.row.ruleAttr?a("span",[e._v("系统")]):"custom"==t.row.ruleAttr?a("span",[e._v("自定义")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"ruleDiffer",label:"是否差异取数",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"==t.row.ruleDiffer?a("span",{staticClass:"green"},[e._v("是")]):"N"==t.row.ruleDiffer?a("span",{staticClass:"red"},[e._v("否")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"expire",fixed:"right",label:"启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"Y","inactive-value":"N","active-color":"#2ccb1c"},on:{change:function(a){return e.statusChange(t.$index,t.row)}},model:{value:t.row.expire,callback:function(a){e.$set(t.row,"expire",a)},expression:"scope.row.expire"}})]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.taxArea==e.rowData.taxArea&&"Y"==t.row.expire?a("div",{staticStyle:{color:"#375DF5","font-size":"0",height:"24px","line-height":"24px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.editClick(t.$index,t.row)}}},[e._v("编辑")]),a("i",{staticClass:"button-middle-line"},[e._v("|")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.paramClick(t.$index,t.row)}}},[e._v("私有参数")]),a("i",{staticClass:"button-middle-line"},[e._v("|")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.ruleSetting(t.$index,t.row)}}},[e._v("取数规则设置")]),a("i",{staticClass:"button-middle-line"},[e._v("|")]),a("el-button",{staticClass:"red",attrs:{type:"text",size:"mini"},on:{click:function(a){return e.delClick(t.$index,t.row)}}},[e._v("删除")])],1):a("div",[e._v("-")])]}}])})],1),a("div",{attrs:{id:"common-page"}},[a("el-pagination",{ref:"pagingDom",attrs:{background:"","current-page":e.currentPage,"page-sizes":[50,100,150],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogBox,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogBox=t}}},[a("el-form",{ref:"dialogform",staticStyle:{padding:"20px 20px 0px"},attrs:{model:e.dialogform,rules:e.dialogrules,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"规则名称：",prop:"ruleName"}},[a("el-input",{attrs:{placeholder:"请输入规则名称"},model:{value:e.dialogform.ruleName,callback:function(t){e.$set(e.dialogform,"ruleName",t)},expression:"dialogform.ruleName"}})],1),a("el-form-item",{attrs:{label:"数据类型：",prop:"ruleDataType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择数据类型"},on:{change:e.changeRuleDataType},model:{value:e.dialogform.ruleDataType,callback:function(t){e.$set(e.dialogform,"ruleDataType",t)},expression:"dialogform.ruleDataType"}},[a("el-option",{attrs:{value:"text",label:"文本"}}),a("el-option",{attrs:{value:"numeric",label:"数字"}}),a("el-option",{attrs:{value:"dropdown",label:"下拉框"}}),a("el-option",{attrs:{value:"checkbox",label:"复选框"}}),a("el-option",{attrs:{value:"date",label:"日期"}})],1)],1),a("el-form-item",{attrs:{label:"取数类型：",prop:"ruleFetch"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"dropdown"==e.dialogform.ruleDataType||"simple"==e.dialogform.ruleType,placeholder:"请选择取数类型"},model:{value:e.dialogform.ruleFetch,callback:function(t){e.$set(e.dialogform,"ruleFetch",t)},expression:"dialogform.ruleFetch"}},[a("el-option",{attrs:{value:"singleRowCol",label:"单行单列"}}),a("el-option",{attrs:{value:"singleRowMultipleCol",label:"单行多列"}}),a("el-option",{attrs:{value:"multipleRowSingleCol",label:"多行单列"}}),a("el-option",{attrs:{value:"multipleRowCol",label:"多行多列"}})],1)],1),a("el-form-item",{attrs:{label:"规则类型：",prop:"ruleType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"dropdown"==e.dialogform.ruleDataType,placeholder:"请选择规则类型"},on:{change:e.changeRuleType},model:{value:e.dialogform.ruleType,callback:function(t){e.$set(e.dialogform,"ruleType",t)},expression:"dialogform.ruleType"}},[a("el-option",{attrs:{value:"simple",label:"简单查询"}}),a("el-option",{attrs:{value:"complex",label:"复杂查询"}}),a("el-option",{attrs:{value:"interface",label:"接口取数"}})],1)],1),a("el-form-item",{attrs:{label:"规则属性：",prop:"ruleAttr"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择规则属性"},model:{value:e.dialogform.ruleAttr,callback:function(t){e.$set(e.dialogform,"ruleAttr",t)},expression:"dialogform.ruleAttr"}},[a("el-option",{attrs:{value:"system",label:"系统"}}),a("el-option",{attrs:{value:"custom",label:"自定义"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["新增"==e.dialogTitle?[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submitAdd("dialogform")}}},[e._v("保存")])]:[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submitEdit("dialogform")}}},[e._v("保存")])],a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogBox=!1}}},[e._v("取消")])],2)],1),a("el-dialog",{attrs:{title:"私有参数",visible:e.dialogPrivateBox,width:"900px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogPrivateBox=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.privateData,height:"340px",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"desc",label:"字段描述"}}),a("el-table-column",{attrs:{prop:"mapp",label:"字段名称"}}),a("el-table-column",{attrs:{prop:"asMapp",label:"字段别名",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",size:"mini"},model:{value:t.row.asMapp,callback:function(a){e.$set(t.row,"asMapp",a)},expression:"scope.row.asMapp"}})]}}])}),a("el-table-column",{attrs:{prop:"type",label:"字段类型",width:"100"}}),a("el-table-column",{attrs:{prop:"format",label:"格式",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return["date"==t.row.type?a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.row.format,callback:function(a){e.$set(t.row,"format",a)},expression:"scope.row.format"}},e._l(JSON.parse(t.row.specific),(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):a("div",[e._v(" "+e._s(t.row.specific)+" ")])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.privateSave}},[e._v("保存")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogPrivateBox=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{title:"取数规则设置："+e.dialoSettinggTitle,visible:e.dialoSettinggBox,width:"1000px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialoSettinggBox=t}}},["simple"==e.activeName?a("div",{staticClass:"right-box"},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"datasetTitle"},[a("span",{staticClass:"datalabel"},[e._v("数据源：")]),a("el-select",{staticStyle:{width:"260px"},attrs:{size:"mini",filterable:"",placeholder:"请选择数据源"},on:{change:e.sampleDBChange},model:{value:e.sampleform.tableCode,callback:function(t){e.$set(e.sampleform,"tableCode",t)},expression:"sampleform.tableCode"}},e._l(e.sourceData,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})})),1)],1),a("div",{staticClass:"datasetTitle"},[a("span",{staticClass:"datalabel"},[e._v("显示字段：")]),a("el-select",{staticStyle:{width:"260px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.showChange},model:{value:e.sampleform.tableField,callback:function(t){e.$set(e.sampleform,"tableField",t)},expression:"sampleform.tableField"}},e._l(e.tableFields,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.code}})})),1)],1),a("div",{staticClass:"datasetTitle"},[a("span",{staticClass:"datalabel"},[e._v("是否汇总：")]),a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:e.sumDisabled,size:"mini",placeholder:"请选择"},model:{value:e.sampleform.summary,callback:function(t){e.$set(e.sampleform,"summary",t)},expression:"sampleform.summary"}},[a("el-option",{attrs:{label:"是",value:"Y"}}),a("el-option",{attrs:{label:"否",value:"N"}})],1)],1),a("div",{staticClass:"mytab"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick2},model:{value:e.activeNameTable,callback:function(t){e.activeNameTable=t},expression:"activeNameTable"}},[a("el-tab-pane",{attrs:{label:"表字段",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableFields,border:"",height:"260px"}},[a("el-table-column",{attrs:{prop:"name",label:"字段名"}}),a("el-table-column",{attrs:{prop:"chooseName",label:"筛选条件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:e.changeSelect},model:{value:t.row.isSelect,callback:function(a){e.$set(t.row,"isSelect",a)},expression:"scope.row.isSelect"}})]}}],null,!1,2633360893)})],1)],1),a("el-tab-pane",{attrs:{label:"筛选条件",name:"third"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ShowCondData,border:"",height:"260px"}},[a("el-table-column",{attrs:{label:"字段名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}],null,!1,2507105690)}),a("el-table-column",{attrs:{label:"操作符"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"",size:"mini",clearable:""},model:{value:t.row.fieldOp,callback:function(a){e.$set(t.row,"fieldOp",a)},expression:"scope.row.fieldOp"}},[a("el-option",{attrs:{label:"in",value:"in"}}),a("el-option",{attrs:{label:"=",value:"="}}),a("el-option",{attrs:{label:">=",value:">="}}),a("el-option",{attrs:{label:"<=",value:"<="}})],1)]}}],null,!1,2974404685)}),a("el-table-column",{attrs:{label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入值",size:"mini"},model:{value:t.row.fieldValue,callback:function(a){e.$set(t.row,"fieldValue",a)},expression:"scope.row.fieldValue"}})]}}],null,!1,4176817732)})],1)],1)],1)],1)])]):e._e(),"complex"==e.activeName?a("div",{staticClass:"right-box"},[a("div",{staticStyle:{flex:"1"}},["CTAX"==e.rowData.tmpType||"JTAX"==e.rowData.tmpType||"TTAX"==e.rowData.tmpType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:e.add1}},[e._v("新增 ")]):e._e(),a("el-table",{attrs:{data:e.ruleInfo.complex.fields,height:"315",border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"fieldCode",label:"字段名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",size:"mini",disabled:"DTAX"==e.rowData.tmpType},model:{value:t.row.fieldCode,callback:function(a){e.$set(t.row,"fieldCode",a)},expression:"scope.row.fieldCode"}})]}}],null,!1,3602576036)}),a("el-table-column",{attrs:{prop:"fieldDesc",label:"字段备注",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",size:"mini",autosize:""},model:{value:t.row.fieldDesc,callback:function(a){e.$set(t.row,"fieldDesc",a)},expression:"scope.row.fieldDesc"}})]}}],null,!1,1869189017)}),a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"el-icon-remove-outline table-icon",on:{click:function(a){return e.delete1(t.$index,t.row)}}})]}}],null,!1,1622404073)})],1)],1),a("div",{staticStyle:{flex:"1","margin-left":"10px"}},[a("el-input",{staticClass:"my-class",staticStyle:{height:"350px","overflow-y":"auto"},attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:16}},model:{value:e.ruleInfo.complex.text,callback:function(t){e.$set(e.ruleInfo.complex,"text",t)},expression:"ruleInfo.complex.text"}})],1)]):e._e(),"interface"==e.activeName?a("div",{staticClass:"right-box"},[a("div",{staticStyle:{flex:"1"}},[a("el-form",{ref:"ruleInfo.inface",staticStyle:{width:"100%",padding:"20px 0 0"},attrs:{model:e.ruleInfo.inface,rules:e.dialogrules,"label-width":"90px",size:"mini"}},[a("el-form-item",{attrs:{label:"接口名称：",prop:"infaceName"}},[a("el-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.ruleInfo.inface.infaceName,callback:function(t){e.$set(e.ruleInfo.inface,"infaceName",t)},expression:"ruleInfo.inface.infaceName"}})],1),a("el-form-item",{attrs:{label:"调用方式：",prop:"infaceCall"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择调用方式"},on:{change:e.changeInfaceCall},model:{value:e.ruleInfo.inface.infaceCall,callback:function(t){e.$set(e.ruleInfo.inface,"infaceCall",t)},expression:"ruleInfo.inface.infaceCall"}},[a("el-option",{attrs:{value:"remote",label:"远程"}}),a("el-option",{attrs:{value:"local",label:"本地"}}),a("el-option",{attrs:{value:"page",label:"页面"}})],1)],1),a("el-form-item",{attrs:{label:"请求方式：",prop:"infaceType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.ifPage,placeholder:"请选择请求方式"},model:{value:e.ruleInfo.inface.infaceType,callback:function(t){e.$set(e.ruleInfo.inface,"infaceType",t)},expression:"ruleInfo.inface.infaceType"}},[a("el-option",{attrs:{value:"get",label:"get"}}),a("el-option",{attrs:{value:"post",label:"post"}})],1)],1),a("el-form-item",{attrs:{label:"接口地址：",prop:"infaceAddress"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.ruleInfo.inface.infaceAddress,callback:function(t){e.$set(e.ruleInfo.inface,"infaceAddress",t)},expression:"ruleInfo.inface.infaceAddress"}})],1),a("el-form-item",{attrs:{label:"接口描述：",prop:"infaceDesc"}},[a("el-input",{attrs:{placeholder:"请输入接口描述"},model:{value:e.ruleInfo.inface.infaceDesc,callback:function(t){e.$set(e.ruleInfo.inface,"infaceDesc",t)},expression:"ruleInfo.inface.infaceDesc"}})],1),a("div",{staticClass:"yellow",staticStyle:{margin:"25px 0 0 8px"}},[e._v(" 调用地址说明：tax-api/tdeclare/common/code/get/codeType/report?collectionName=XXXX ")])],1)],1),"multipleRowCol"==e.ruleFetch||"singleRowMultipleCol"==e.ruleFetch?a("div",{staticStyle:{flex:"1","margin-left":"10px","overflow-y":"auto"}},["CTAX"==e.rowData.tmpType||"JTAX"==e.rowData.tmpType||"TTAX"==e.rowData.tmpType?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:e.add2}},[e._v("新增 ")]):e._e(),a("el-table",{attrs:{data:e.ruleInfo.inface.fields,height:"315",border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"fieldCode",label:"字段名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",size:"mini",disabled:"DTAX"==e.rowData.tmpType},model:{value:t.row.fieldCode,callback:function(a){e.$set(t.row,"fieldCode",a)},expression:"scope.row.fieldCode"}})]}}],null,!1,3602576036)}),a("el-table-column",{attrs:{prop:"fieldDesc",label:"字段备注",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",size:"mini",autosize:"",disabled:"DTAX"==e.rowData.tmpType},model:{value:t.row.fieldDesc,callback:function(a){e.$set(t.row,"fieldDesc",a)},expression:"scope.row.fieldDesc"}})]}}],null,!1,3920708851)}),"CTAX"==e.rowData.tmpType||"JTAX"==e.rowData.tmpType||"TTAX"==e.rowData.tmpType?a("el-table-column",{attrs:{label:"操作",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"el-icon-remove-outline table-icon",on:{click:function(a){return e.delete2(t.$index,t.row)}}})]}}],null,!1,3819596490)}):e._e()],1)],1):e._e()]):e._e(),a("div",{staticStyle:{"text-align":"right",margin:"10px 0 6px",overflow:"hidden"}},["complex"==e.activeName?a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.checkData()}}},[e._v(" 获取字段 ")]):e._e(),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submitForm(e.activeName)}}},[e._v("保存 ")]),a("p",{staticStyle:{float:"right","margin-left":"20px","line-height":"28px"}},[e._v("当前数据类型为："+e._s(e._f("ruleDataTypeFilters")(e.ruleDataType)))])],1)]),a("el-dialog",{attrs:{title:"复制",visible:e.dialogCopy,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogCopy=t}}},[a("el-form",{ref:"dialogform2",staticStyle:{padding:"20px 0 0px"},attrs:{model:e.dialogform2,rules:e.dialogrules2,"label-width":"130px",size:"mini"}},[a("el-form-item",{attrs:{label:"模式：",prop:"rangeRadio"}},[a("el-radio-group",{model:{value:e.dialogform2.rangeRadio,callback:function(t){e.$set(e.dialogform2,"rangeRadio",t)},expression:"dialogform2.rangeRadio"}},[a("el-radio",{attrs:{label:"1"}},[e._v("指定")]),a("el-radio",{attrs:{label:"2"}},[e._v("全部")])],1)],1),a("el-form-item",{attrs:{label:"复制到(地区)：",prop:"taxArea"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择地区",filterable:"",clearable:""},model:{value:e.dialogform2.taxArea,callback:function(t){e.$set(e.dialogform2,"taxArea",t)},expression:"dialogform2.taxArea"}},e._l(e.taxAreaData,(function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submitCopy("dialogform2")}}},[e._v("保存")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogCopy=!1}}},[e._v("取消")])],1)],1)],1)},r=[],i=a("c7eb"),o=a("1da1"),n=(a("4de4"),a("c740"),a("d81d"),a("a434"),a("b0c0"),a("e9c4"),a("b64b"),a("d3b7"),a("ac1f"),a("841c"),a("159b"),a("148f")),s={name:"Bbqsgz",components:{},data:function(){return{tableHeight:500,taxAreaData:[],formsearch:{ruleName:"",ruleCode:"",ruleType:"",expire:"Y"},rowData:{taxCode:"",taxArea:""},tableLoading:!1,tableData:[],tableEditRow:0,selected:[],pageSize:50,total:0,currentPage:1,dialogBox:!1,dialogTitle:"",dialogform:{ruleName:"",ruleFetch:"",ruleDataType:"",ruleType:"",ruleAttr:"custom"},dialogrules:{ruleName:[{required:!0,message:"请输入规则名称",trigger:"blur"}],ruleFetch:[{required:!0,message:"请选择取数类型",trigger:"change"}],ruleDataType:[{required:!0,message:"请选择数据类型",trigger:"change"}],ruleType:[{required:!0,message:"请选择规则类型",trigger:"change"}],ruleAttr:[{required:!0,message:"请选择规则属性",trigger:"change"}]},dialogPrivateBox:!1,privateData:[],multipleSelection:[],dialoSettinggBox:!1,dialoSettinggTitle:"简单查询",activeName:"",ruleFetch:"",ruleDataType:"",ruleUUID:"",sampleform:{tableCode:"",showField:"",summary:"Y",params:[]},activeNameTable:"first",sourceData:[],tableFields:[],sumDisabled:!1,ShowCondData:[],ruleInfo:{complex:{text:"",fields:[]},inface:{infaceCall:"",infaceName:"",infaceType:"",infaceAddress:"",infaceDesc:"",fields:[]},simple:{tableCode:"",showField:"",summary:"",params:[]}},ifPage:!1,dialogCopy:!1,dialogform2:{rangeRadio:"1",taxArea:""},dialogrules2:{taxArea:[{required:!0,message:"请选择地区",trigger:"change"}]}}},filters:{ruleDataTypeFilters:function(e){return"text"==e?"文本":"numeric"==e?"数字":"dropdown"==e?"下拉框":"checkbox"==e?"复选框":"date"==e?"日期":void 0}},computed:{},methods:{goback:function(){this.$router.push({name:"bbqs"})},initData:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={info:{taxArea:e.rowData.taxArea,taxCode:e.rowData.taxCode,ruleName:e.formsearch.ruleName,ruleCode:e.formsearch.ruleCode,ruleType:e.formsearch.ruleType,expire:e.formsearch.expire},page:{currentPage:e.currentPage,pageSize:e.pageSize,pagination:!0}},e.tableLoading=!0,t.next=4,Object(n["G"])(a);case 4:l=t.sent,l&&(e.tableLoading=!1,e.tableData=l.list,e.total=l.total);case 6:case"end":return t.stop()}}),t)})))()},search:function(){this.currentPage=1,this.initData()},reset:function(){this.formsearch={ruleName:"",ruleCode:"",ruleType:"",expire:"Y"}},tableSelectionChange:function(e){this.selected=e},handleSizeChange:function(e){this.pageSize=e,this.search()},handleCurrentChange:function(e){this.currentPage=e,this.initData()},typeIndex:function(e){return e+(this.currentPage-1)*this.pageSize+1},addClick:function(){this.dialogBox=!0,this.dialogTitle="新增",this.dialogform={ruleName:"",ruleFetch:"",ruleDataType:"",ruleType:"",ruleAttr:"custom"},this.$nextTick((function(){this.$refs["dialogform"].clearValidate()}))},submitAdd:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(a){var l,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return l={taxArea:t.rowData.taxArea,taxCode:t.rowData.taxCode,ruleName:t.dialogform.ruleName,ruleFetch:t.dialogform.ruleFetch,ruleDataType:t.dialogform.ruleDataType,ruleType:t.dialogform.ruleType,ruleAttr:t.dialogform.ruleAttr},e.next=4,Object(n["F"])(l);case 4:r=e.sent,r&&(t.search(),t.dialogBox=!1),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},editClick:function(e,t){this.dialogBox=!0,this.dialogTitle="编辑",this.tableEditRow=e,this.$nextTick((function(){this.$refs["dialogform"].clearValidate()})),this.dialogform=JSON.parse(JSON.stringify(t))},submitEdit:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(a){var l,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return l={uuid:t.tableData[t.tableEditRow].uuid,taxArea:t.rowData.taxArea,taxCode:t.rowData.taxCode,ruleName:t.dialogform.ruleName,ruleFetch:t.dialogform.ruleFetch,ruleDataType:t.dialogform.ruleDataType,ruleType:t.dialogform.ruleType,ruleAttr:t.dialogform.ruleAttr},e.next=4,Object(n["F"])(l);case 4:r=e.sent,r&&(t.initData(),t.dialogBox=!1),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},changeRuleDataType:function(){"dropdown"==this.dialogform.ruleDataType&&(this.dialogform.ruleFetch="multipleRowSingleCol",this.dialogform.ruleType="interface")},changeRuleType:function(){"simple"==this.dialogform.ruleType&&(this.dialogform.ruleFetch="singleRowCol")},handleSelectionChange:function(e){this.multipleSelection=e},paramClick:function(e,t){var a=this;return Object(o["a"])(Object(i["a"])().mark((function l(){var r,o;return Object(i["a"])().wrap((function(l){while(1)switch(l.prev=l.next){case 0:return a.dialogPrivateBox=!0,a.tableEditRow=e,a.multipleSelection=[],l.next=5,Object(n["c"])("table_params",{});case 5:r=l.sent,r&&(o=r||[],o[0].format||o.map((function(e){return e.format=""})),a.privateData=o,t.ruleParams&&t.ruleParams.forEach((function(e){var t=a.privateData.findIndex((function(t){return t.mapp==e.mapp}));t>=0&&(a.privateData[t].format=e.format,a.$set(a.privateData[t],"asMapp",e.asMapp),a.$nextTick((function(){a.$refs.multipleTable.toggleRowSelection(a.privateData[t])})))})));case 7:case"end":return l.stop()}}),l)})))()},privateSave:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={ruleParams:e.multipleSelection,ruleUUID:e.tableData[e.tableEditRow].uuid},t.next=3,Object(n["z"])(a);case 3:l=t.sent,l&&(e.initData(),e.$message({type:"success",message:"保存成功!"}),e.dialogPrivateBox=!1);case 5:case"end":return t.stop()}}),t)})))()},delClick:function(e,t){var a=this;return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.$confirm("如果删除此规则，将导致报表取数失效，要重新进行配置！请慎重！, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(i["a"])().mark((function e(){var l,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l={uuid:t.uuid},e.next=3,Object(n["B"])(l);case 3:r=e.sent,r&&(a.initData(),a.$message({type:"success",message:"删除成功!"}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){a.$message({type:"info",message:"已取消"})}));case 1:case"end":return e.stop()}}),e)})))()},ruleSetting:function(e,t){var a=this;return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a.rowData.tmpType),a.dialoSettinggBox=!0,e.next=4,a.clearTabData();case 4:if(a.ruleInfo=JSON.parse(JSON.stringify(t.ruleInfo)),a.ruleUUID=t.uuid,a.ruleFetch=t.ruleFetch,a.ruleDataType=t.ruleDataType,a.activeName=t.ruleType,"simple"==t.ruleType?a.dialoSettinggTitle="简单查询":"complex"==t.ruleType?a.dialoSettinggTitle="复杂查询":"interface"==t.ruleType&&(a.dialoSettinggTitle="接口取数"),0!=Object.keys(a.ruleInfo).length){e.next=13;break}return a.ruleInfo={complex:{text:"",fields:[]},inface:{infaceCall:"",infaceName:"",infaceType:"",infaceAddress:"",infaceDesc:"",fields:[]},simple:{tableCode:"",showField:"",summary:"",params:[]}},e.abrupt("return");case 13:"simple"==t.ruleType&&a.simpleSearch();case 14:case"end":return e.stop()}}),e)})))()},simpleSearch:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeNameTable="first",e.sampleform.tableCode=e.ruleInfo.simple.tableCode,e.sampleform.tableField=e.ruleInfo.simple.tableField,e.sampleform.summary=e.ruleInfo.simple.summary,a=e.ruleInfo.simple.params,t.next=7,Object(n["c"])("table_buss_field",{code:e.sampleform.tableCode});case 7:l=t.sent,l&&(r=l,e.sumDisabled=!1,r.forEach((function(e){e.isSelect=!1,a.forEach((function(t){t.code=t.fieldCode,t.type=t.fieldType,t.fieldCode===e.code&&(t.name=e.name,e.isSelect=!0)})),a.reverse()})),e.tableFields=r,e.ShowCondData=a);case 9:case"end":return t.stop()}}),t)})))()},sampleDBChange:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var l,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(n["c"])("table_buss_field",{code:e});case 2:l=a.sent,l&&(r=l,r.forEach((function(e){e.isSelect=!1})),t.tableFields=r,t.sampleform.tableField="");case 4:case"end":return a.stop()}}),a)})))()},showChange:function(e){this.$forceUpdate()},changeSelect:function(){this.handleClick2()},handleClick2:function(e,t){for(var a=JSON.parse(JSON.stringify(this.ShowCondData)),l=JSON.parse(JSON.stringify(this.tableFields)).filter((function(e){return e.isSelect})),r=function(e){var t=l.findIndex((function(t){return t.code===a[e].code}));t<0&&a.splice(e,1)},i=a.length-1;i>=0;i--)r(i);l.forEach((function(e){var t=a.findIndex((function(t){return t.code===e.code}));t>=0?a[t].type=e.type?e.type:"":(e.fieldOp="=",e.fieldValue="",a.push(e))})),this.ShowCondData=JSON.parse(JSON.stringify(a))},changeInfaceCall:function(){this.ifPage="page"==this.ruleInfo.inface.infaceCall,this.ruleInfo.inface.infaceType=this.ifPage?"get":""},add1:function(){this.ruleInfo.complex.fields.push({fieldCode:"",fieldDesc:"返回值"})},delete1:function(e,t){this.ruleInfo.complex.fields.splice(e,1)},add2:function(){this.ruleInfo.inface.fields.push({fieldCode:"",fieldDesc:"返回值"})},delete2:function(e,t){this.ruleInfo.inface.fields.splice(e,1)},clearTabData:function(){this.ruleInfo={complex:{text:"",fields:[]},inface:{infaceCall:"",infaceName:"",infaceType:"",infaceAddress:"",infaceDesc:"",fields:[]},simple:{tableCode:"",showField:"",summary:"",params:[]}},this.sampleform={tableCode:"",showField:"",summary:"Y",params:[]},this.activeNameTable="first",this.tableFields=[],this.sumDisabled=!1,this.ShowCondData=[],this.ifPage=!1},checkData:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={query:e.ruleInfo.complex.text},t.next=3,Object(n["C"])(a);case 3:l=t.sent,l&&(r=e.ruleInfo.complex.fields||[],e.ruleInfo.complex.fields=l.map((function(e){var t=r[r.findIndex((function(t){return t.fieldCode===e}))]||{};return{fieldCode:e,fieldDesc:t.fieldDesc}})),e.$message({type:"success",message:"操作成功!"}));case 5:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={ruleUUID:e.ruleUUID,ruleType:e.activeName,ruleInfo:{}},"complex"!=e.activeName){t.next=12;break}if(l=e.ruleInfo.complex.fields||[],0!=l.length){t.next=6;break}return e.$message({type:"warning",message:"字段不能为空！请先获取字段！"}),t.abrupt("return",!1);case 6:if(!(l.length>1&&"singleRowCol"==e.ruleFetch)){t.next=9;break}return e.$message({type:"warning",message:"只能保存一个字段!"}),t.abrupt("return",!1);case 9:a.ruleInfo.complex={text:e.ruleInfo.complex.text,fields:l},t.next=27;break;case 12:if("interface"!=e.activeName){t.next=16;break}a.ruleInfo.inface=e.ruleInfo.inface,t.next=27;break;case 16:if("simple"!=e.activeName){t.next=27;break}if(!e.sampleform.tableCode||!e.sampleform.tableField){t.next=25;break}a.ruleInfo.simple={},a.ruleInfo.simple.params=e.ShowCondData.map((function(e){return{fieldCode:e.code,fieldOp:e.fieldOp,fieldType:e.type,fieldValue:e.fieldValue}}))||[],a.ruleInfo.simple.summary=e.sampleform.summary,a.ruleInfo.simple.tableCode=e.sampleform.tableCode,a.ruleInfo.simple.tableField=e.sampleform.tableField,t.next=27;break;case 25:return e.$message.warning("请选择数据源和显示字段！"),t.abrupt("return");case 27:return e.$vLoading.show(),t.next=30,Object(n["D"])(a);case 30:r=t.sent,r&&(e.initData(),e.$message({type:"success",message:"保存成功!"})),e.$vLoading.hide();case 33:case"end":return t.stop()}}),t)})))()},statusChange:function(e,t){return Object(o["a"])(Object(i["a"])().mark((function e(){var a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={uuid:t.uuid,expire:t.expire},e.next=3,Object(n["E"])(a);case 3:e.sent;case 5:case"end":return e.stop()}}),e)})))()},batchCopy:function(){0==this.selected.length?this.dialogform2.rangeRadio="2":this.dialogform2.rangeRadio="1",this.dialogCopy=!0},submitCopy:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(a){var l,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return l={uuids:"1"==t.dialogform2.rangeRadio?t.selected.map((function(e){return e.uuid})):[],taxArea:t.rowData.taxArea,taxCode:t.rowData.taxCode,quoteArea:t.dialogform2.taxArea},e.next=4,Object(n["A"])(l);case 4:r=e.sent,r&&(t.search(),t.dialogCopy=!1,t.$message({type:"success",message:"复制成功!"})),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()}},mounted:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,l;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.rowData=JSON.parse(sessionStorage.getItem("fetchDataRowData")),t.next=3,Object(n["c"])("table_province",{});case 3:return a=t.sent,a&&(e.taxAreaData=a),t.next=7,Object(n["c"])("table_buss_main",{});case 7:l=t.sent,l&&(e.sourceData=l),e.initData(),e.$nextTick((function(){e.tableHeight=e.calcTableHeight()})),window.onresize=function(){e.tableHeight=e.calcTableHeight()};case 12:case"end":return t.stop()}}),t)})))()},activated:function(){var e=this;this.tableHeight=this.calcTableHeight(),window.onresize=function(){e.tableHeight=e.calcTableHeight()}}},c=s,u=(a("ce54"),a("2877")),p=Object(u["a"])(c,l,r,!1,null,"2a36a200",null);t["default"]=p.exports},"9e6a":function(e,t,a){"use strict";var l=a("d233"),r=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:l.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var a={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,n=l.split(t.delimiter,o),s=0;s<n.length;++s){var c,u,p=n[s],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(c=t.decoder(p,i.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,f),i.decoder),u=t.decoder(p.slice(f+1),i.decoder)),r.call(a,c)?a[c]=[].concat(a[c]).concat(u):a[c]=u}return a},n=function(e,t,a){for(var l=t,r=e.length-1;r>=0;--r){var i,o=e[r];if("[]"===o&&a.parseArrays)i=[].concat(l);else{i=a.plainObjects?Object.create(null):{};var n="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,s=parseInt(n,10);a.parseArrays||""!==n?!isNaN(s)&&o!==n&&String(s)===n&&s>=0&&a.parseArrays&&s<=a.arrayLimit?(i=[],i[s]=l):"__proto__"!==n&&(i[n]=l):i={0:l}}l=i}return l},s=function(e,t,a){if(e){var l=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,s=i.exec(l),c=s?l.slice(0,s.index):l,u=[];if(c){if(!a.plainObjects&&r.call(Object.prototype,c)&&!a.allowPrototypes)return;u.push(c)}var p=0;while(null!==(s=o.exec(l))&&p<a.depth){if(p+=1,!a.plainObjects&&r.call(Object.prototype,s[1].slice(1,-1))&&!a.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+l.slice(s.index)+"]"),n(u,t,a)}};e.exports=function(e,t){var a=t?l.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!==typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"===typeof a.delimiter||l.isRegExp(a.delimiter)?a.delimiter:i.delimiter,a.depth="number"===typeof a.depth?a.depth:i.depth,a.arrayLimit="number"===typeof a.arrayLimit?a.arrayLimit:i.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"===typeof a.decoder?a.decoder:i.decoder,a.allowDots="boolean"===typeof a.allowDots?a.allowDots:i.allowDots,a.plainObjects="boolean"===typeof a.plainObjects?a.plainObjects:i.plainObjects,a.allowPrototypes="boolean"===typeof a.allowPrototypes?a.allowPrototypes:i.allowPrototypes,a.parameterLimit="number"===typeof a.parameterLimit?a.parameterLimit:i.parameterLimit,a.strictNullHandling="boolean"===typeof a.strictNullHandling?a.strictNullHandling:i.strictNullHandling,""===e||null===e||"undefined"===typeof e)return a.plainObjects?Object.create(null):{};for(var r="string"===typeof e?o(e,a):e,n=a.plainObjects?Object.create(null):{},c=Object.keys(r),u=0;u<c.length;++u){var p=c[u],d=s(p,r[p],a);n=l.merge(n,d,a)}return l.compact(n)}},b313:function(e,t,a){"use strict";var l=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return l.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},ce54:function(e,t,a){"use strict";a("6171")},d233:function(e,t,a){"use strict";var l=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){var t;while(e.length){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var l=[],r=0;r<t.length;++r)"undefined"!==typeof t[r]&&l.push(t[r]);a.obj[a.prop]=l}}return t},o=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},l=0;l<e.length;++l)"undefined"!==typeof e[l]&&(a[l]=e[l]);return a},n=function e(t,a,r){if(!a)return t;if("object"!==typeof a){if(Array.isArray(t))t.push(a);else{if(!t||"object"!==typeof t)return[t,a];(r&&(r.plainObjects||r.allowPrototypes)||!l.call(Object.prototype,a))&&(t[a]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(a);var i=t;return Array.isArray(t)&&!Array.isArray(a)&&(i=o(t,r)),Array.isArray(t)&&Array.isArray(a)?(a.forEach((function(a,i){if(l.call(t,i)){var o=t[i];o&&"object"===typeof o&&a&&"object"===typeof a?t[i]=e(o,a,r):t.push(a)}else t[i]=a})),t):Object.keys(a).reduce((function(t,i){var o=a[i];return l.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),i)},s=function(e,t){return Object.keys(t).reduce((function(e,a){return e[a]=t[a],e}),e)},c=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},u=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),a="",l=0;l<t.length;++l){var i=t.charCodeAt(l);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?a+=t.charAt(l):i<128?a+=r[i]:i<2048?a+=r[192|i>>6]+r[128|63&i]:i<55296||i>=57344?a+=r[224|i>>12]+r[128|i>>6&63]+r[128|63&i]:(l+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(l)),a+=r[240|i>>18]+r[128|i>>12&63]+r[128|i>>6&63]+r[128|63&i])}return a},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],l=0;l<t.length;++l)for(var r=t[l],o=r.obj[r.prop],n=Object.keys(o),s=0;s<n.length;++s){var c=n[s],u=o[c];"object"===typeof u&&null!==u&&-1===a.indexOf(u)&&(t.push({obj:o,prop:c}),a.push(u))}return i(t)},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:o,assign:s,compact:p,decode:c,encode:u,isBuffer:f,isRegExp:d,merge:n}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08d6541a"],{4127:function(e,t,a){"use strict";var i=a("d233"),l=a("b313"),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},r=Array.isArray,n=Array.prototype.push,s=function(e,t){n.apply(e,r(t)?t:[t])},c=Date.prototype.toISOString,d={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,a,l,o,n,c,u,f,p,h,b,m){var x=t;if("function"===typeof u?x=u(a,x):x instanceof Date&&(x=h(x)),null===x){if(o)return c&&!m?c(a,d.encoder):a;x=""}if("string"===typeof x||"number"===typeof x||"boolean"===typeof x||i.isBuffer(x)){if(c){var y=m?a:c(a,d.encoder);return[b(y)+"="+b(c(x,d.encoder))]}return[b(a)+"="+b(String(x))]}var g,v=[];if("undefined"===typeof x)return v;if(r(u))g=u;else{var w=Object.keys(x);g=f?w.sort(f):w}for(var C=0;C<g.length;++C){var D=g[C];n&&null===x[D]||(r(x)?s(v,e(x[D],l(a,D),l,o,n,c,u,f,p,h,b,m)):s(v,e(x[D],a+(p?"."+D:"["+D+"]"),l,o,n,c,u,f,p,h,b,m)))}return v};e.exports=function(e,t){var a=e,n=t?i.assign({},t):{};if(null!==n.encoder&&"undefined"!==typeof n.encoder&&"function"!==typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof n.delimiter?d.delimiter:n.delimiter,f="boolean"===typeof n.strictNullHandling?n.strictNullHandling:d.strictNullHandling,p="boolean"===typeof n.skipNulls?n.skipNulls:d.skipNulls,h="boolean"===typeof n.encode?n.encode:d.encode,b="function"===typeof n.encoder?n.encoder:d.encoder,m="function"===typeof n.sort?n.sort:null,x="undefined"!==typeof n.allowDots&&n.allowDots,y="function"===typeof n.serializeDate?n.serializeDate:d.serializeDate,g="boolean"===typeof n.encodeValuesOnly?n.encodeValuesOnly:d.encodeValuesOnly;if("undefined"===typeof n.format)n.format=l["default"];else if(!Object.prototype.hasOwnProperty.call(l.formatters,n.format))throw new TypeError("Unknown format option provided.");var v,w,C=l.formatters[n.format];"function"===typeof n.filter?(w=n.filter,a=w("",a)):r(n.filter)&&(w=n.filter,v=w);var D,F=[];if("object"!==typeof a||null===a)return"";D=n.arrayFormat in o?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var k=o[D];v||(v=Object.keys(a)),m&&v.sort(m);for(var S=0;S<v.length;++S){var O=v[S];p&&null===a[O]||s(F,u(a[O],O,k,f,p,h?b:null,w,m,x,y,C,g))}var _=F.join(c),j=!0===n.addQueryPrefix?"?":"";return _.length>0?j+_:""}},4328:function(e,t,a){"use strict";var i=a("4127"),l=a("9e6a"),o=a("b313");e.exports={formats:o,parse:l,stringify:i}},"5d38":function(e,t,a){"use strict";a("d692")},"882d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"common-container"}},[a("div",{staticStyle:{display:"flex"},attrs:{id:"common-header"}},[a("el-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-back"},on:{click:e.returnList}},[e._v("返回")]),a("div",{staticStyle:{flex:"1","text-align":"right","line-height":"28px"}},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v("地区："),a("i",{staticStyle:{color:"#FF9966","font-weight":"bold"}},[e._v(e._s(e.taxAreaName))])]),e._v(" "),a("span",[e._v("税种："),a("i",{staticStyle:{color:"#FF9966","font-weight":"bold"}},[e._v(e._s(e.taxName))])])])],1),a("div",{attrs:{id:"common-main"}},[a("div",{staticClass:"pannel-left"},[a("el-table",{ref:"otherTable",staticStyle:{width:"100%"},attrs:{data:e.declareDatas,height:"100px",border:"",stripe:"","highlight-current-row":""},on:{"row-click":e.declareClick}},[a("el-table-column",{attrs:{prop:"name",label:"报表",width:"210"}}),a("el-table-column",{attrs:{label:"是否配置"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isStruct?a("span",{staticStyle:{color:"green"}},[e._v("是")]):a("span",{staticStyle:{color:"red"}},[e._v("否")])]}}])})],1)],1),a("div",{staticClass:"pannel-right"},[a("div",{staticClass:"right-top"},[a("span",[e._v("物理表：")]),a("el-radio-group",{staticStyle:{"line-height":"20px"},on:{change:e.tableClick},model:{value:e.taxTableCode,callback:function(t){e.taxTableCode=t},expression:"taxTableCode"}},[e._l(e.physicalDatas,(function(t,i){return[a("el-radio",{key:t.taxTableCode,attrs:{label:t.taxTableCode}},[e._v(e._s(t.taxTableName)+" "),t.ischk?a("span",{key:i,staticClass:"iconfont icon-qiyong",staticStyle:{color:"#FF9966"}}):e._e()])]}))],2)],1),a("div",{staticClass:"right-content"},[a("div",{staticClass:"content-top"},[a("el-table",{ref:"noConfigTable",staticStyle:{width:"100%"},attrs:{data:e.fieldNoConfigDatas,height:"100%",border:"",stripe:"","highlight-current-row":""},on:{"row-click":e.clickRowTop,"selection-change":e.selectChangeTop}},[a("el-table-column",{attrs:{type:"selection",width:"50",fixed:""}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"fieldCode",label:"字段编码"}}),a("el-table-column",{attrs:{prop:"fieldDesc",label:"字段名称"}}),a("el-table-column",{attrs:{prop:"fieldType",label:"数据类型"}}),a("el-table-column",{attrs:{prop:"fieldDefValue",label:"默认值"}})],1)],1),a("div",{staticClass:"content-middle"},[a("el-button",{staticClass:"search",attrs:{type:"primary",size:"mini",icon:"el-icon-bottom"},on:{click:e.selectData}},[e._v("下移")]),a("el-button",{staticClass:"search",attrs:{type:"primary",size:"mini",icon:"el-icon-top"},on:{click:e.cancelSelectData}},[e._v("上移")]),a("el-button",{staticStyle:{float:"right","margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-folder"},on:{click:e.saveField}},[e._v("保存")]),a("el-input",{staticStyle:{width:"200px",float:"right"},attrs:{size:"mini",placeholder:"请输入下列表字段编码"},model:{value:e.searchFieldCode,callback:function(t){e.searchFieldCode=t},expression:"searchFieldCode"}})],1),a("div",{staticClass:"content-bottom"},[a("el-table",{ref:"configTable",staticStyle:{width:"100%"},attrs:{data:e.fieldConfigDatas.filter((function(t){return!e.searchFieldCode||t.fieldCode.toLowerCase().includes(e.searchFieldCode.toLowerCase())})),height:"100%",border:"",stripe:"","highlight-current-row":""},on:{"row-click":e.clickRowBottom,"selection-change":e.selectChangeBottom}},[a("el-table-column",{attrs:{type:"selection",fixed:"",width:"50"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"fieldCode",label:"字段编码",width:"140"}}),a("el-table-column",{attrs:{prop:"fieldDesc",label:"字段名称",width:"120"}}),a("el-table-column",{attrs:{prop:"fieldType",label:"数据类型",width:"100"}}),a("el-table-column",{attrs:{prop:"taxFieldNeed",label:"是否必传"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.taxFieldNeed?a("div",{staticClass:"green"},[e._v("是")]):e._e(),0==t.row.taxFieldNeed?a("div",{staticClass:"red"},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"taxFieldRequired",label:"是否必填"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.taxFieldRequired?a("div",{staticClass:"green"},[e._v("是")]):e._e(),0==t.row.taxFieldRequired?a("div",{staticClass:"red"},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"taxFieldDateType",label:"检查类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.taxFieldDateType?a("div",{staticClass:"green"},[e._v("是")]):e._e(),0==t.row.taxFieldDateType?a("div",{staticClass:"red"},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"taxFieldCheck",label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.taxFieldCheck?a("div",{staticClass:"green"},[e._v("是")]):e._e(),0==t.row.taxFieldCheck?a("div",{staticClass:"red"},[e._v("否")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"taxFieldDefValue",label:"默认值",width:"140","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"taxFieldFmt",label:"格式化",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.formatOptions,(function(i){return a("div",{key:i.value,attrs:{label:i.label,value:i.value}},[t.row.taxFieldFmt==i.value?a("div",[e._v(e._s(i.label))]):e._e()])}))}}])}),a("el-table-column",{attrs:{prop:"taxFieldTypeExp",label:"表达式类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["UNKNOW"==t.row.taxFieldTypeExp?a("div",[e._v("无")]):e._e(),"RANG"==t.row.taxFieldTypeExp?a("div",[e._v("范围")]):e._e(),"REG"==t.row.taxFieldTypeExp?a("div",[e._v("正则")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"taxFieldExp",label:"表达式",width:"140"}}),a("el-table-column",{attrs:{prop:"ignoreRowNo",label:"忽略行号",width:"140"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{color:"#375DF5","font-size":"0",height:"24px","line-height":"24px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.editClick(t.$index,t.row)}}},[e._v("编辑")])],1)]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"编辑",visible:e.dialogBox,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogBox=t}}},[a("el-form",{ref:"dialogform",staticStyle:{padding:"20px 0 0px"},attrs:{model:e.dialogform,inline:!0,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"是否必传:",prop:"taxFieldNeed"}},[a("el-switch",{staticStyle:{width:"100px"},attrs:{"active-value":!0,"inactive-value":!1,"active-color":"#2ccb1c"},on:{change:e.changeNeed},model:{value:e.dialogform.taxFieldNeed,callback:function(t){e.$set(e.dialogform,"taxFieldNeed",t)},expression:"dialogform.taxFieldNeed"}})],1),a("el-form-item",{attrs:{label:"是否必填:",prop:"taxFieldRequired"}},[a("el-switch",{staticStyle:{width:"100px"},attrs:{"active-value":!0,"inactive-value":!1,"active-color":"#2ccb1c"},on:{change:e.changeRequired},model:{value:e.dialogform.taxFieldRequired,callback:function(t){e.$set(e.dialogform,"taxFieldRequired",t)},expression:"dialogform.taxFieldRequired"}})],1),a("el-form-item",{attrs:{label:"检查类型:",prop:"taxFieldDateType"}},[a("el-switch",{staticStyle:{width:"100px"},attrs:{"active-value":!0,"inactive-value":!1,"active-color":"#2ccb1c"},model:{value:e.dialogform.taxFieldDateType,callback:function(t){e.$set(e.dialogform,"taxFieldDateType",t)},expression:"dialogform.taxFieldDateType"}})],1),a("el-form-item",{attrs:{label:"是否启用:",prop:"taxFieldCheck"}},[a("el-switch",{staticStyle:{width:"100px"},attrs:{"active-value":!0,"inactive-value":!1,"active-color":"#2ccb1c"},model:{value:e.dialogform.taxFieldCheck,callback:function(t){e.$set(e.dialogform,"taxFieldCheck",t)},expression:"dialogform.taxFieldCheck"}})],1),a("el-form-item",{attrs:{label:"默认值:",prop:"taxFieldDefValue"}},[a("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入默认值"},model:{value:e.dialogform.taxFieldDefValue,callback:function(t){e.$set(e.dialogform,"taxFieldDefValue",t)},expression:"dialogform.taxFieldDefValue"}})],1),a("el-form-item",{attrs:{label:"格式化:",prop:"taxFieldFmt"}},[a("el-select",{staticStyle:{width:"320px"},attrs:{placeholder:"请选择"},model:{value:e.dialogform.taxFieldFmt,callback:function(t){e.$set(e.dialogform,"taxFieldFmt",t)},expression:"dialogform.taxFieldFmt"}},e._l(e.formatOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"表达式类型:",prop:"taxFieldTypeExp"}},[a("el-select",{staticStyle:{width:"320px"},attrs:{placeholder:"请选择"},model:{value:e.dialogform.taxFieldTypeExp,callback:function(t){e.$set(e.dialogform,"taxFieldTypeExp",t)},expression:"dialogform.taxFieldTypeExp"}},[a("el-option",{attrs:{label:"无",value:"UNKNOW"}}),a("el-option",{attrs:{label:"范围",value:"RANG"}}),a("el-option",{attrs:{label:"正则",value:"REG"}})],1)],1),a("el-form-item",{attrs:{label:"表达式:",prop:"taxFieldExp"}},[a("el-input",{staticStyle:{width:"320px"},attrs:{type:"textarea",autosize:"",placeholder:"请输入表达式"},model:{value:e.dialogform.taxFieldExp,callback:function(t){e.$set(e.dialogform,"taxFieldExp",t)},expression:"dialogform.taxFieldExp"}})],1),a("el-form-item",{attrs:{label:"忽略行号:",prop:"ignoreRowNo"}},[a("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入要忽略的行号（逗号分隔，从0开始）"},model:{value:e.dialogform.ignoreRowNo,callback:function(t){e.$set(e.dialogform,"ignoreRowNo",t)},expression:"dialogform.ignoreRowNo"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitForm}},[e._v("保存")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogBox=!1}}},[e._v("取消")])],1)],1)],1)])])},l=[],o=a("5530"),r=a("c7eb"),n=a("1da1"),s=(a("4de4"),a("c740"),a("caad"),a("d81d"),a("4e82"),a("e9c4"),a("a9e3"),a("b64b"),a("d3b7"),a("2532"),a("159b"),a("148f")),c={name:"fieldConfigDetial",components:{},data:function(){return{taxAreaName:"",taxName:"",formselset:{taxCode:"",taxArea:"",taxStructure:""},currentRow:null,declareDatas:[],baseDeclareDatas:{},buildDatas:{},physicalDatas:[],fieldDatas:[],fieldNoConfigDatas:[],fieldConfigDatas:[],fieldUUIDs:[],taxTableCode:"",taxDeclareCode:"",multipleSelectionTop:[],multipleSelectionBottom:[],searchFieldCode:"",tableEditRow:null,dialogBox:!1,dialogform:{},formatOptions:[{label:"无",value:""},{label:"保留整数",value:"0,00"},{label:"保留1位小数",value:"0,00.0"},{label:"保留2位小数",value:"0,00.00"},{label:"保留3位小数",value:"0,00.000"},{label:"保留4位小数",value:"0,00.0000"},{label:"保留5位小数",value:"0,00.00000"},{label:"保留6位小数",value:"0,00.000000"},{label:"保留7位小数",value:"0,00.0000000"},{label:"保留8位小数",value:"0,00.00000000"}]}},methods:{returnList:function(){this.$router.push({name:"bwgj"})},restore:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var i,l;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$vLoading.show(),a.next=3,Object(s["ab"])(t.formselset);case 3:i=a.sent,i&&(t.buildDatas=i||[],l=Object.keys(t.buildDatas)||[],t.declareDatas.map((function(e){e.isStruct=l.findIndex((function(t){return t==e.code}))>=0})),t.declareClick(t.currentRow?t.currentRow:t.declareDatas[0],e),t.$refs.otherTable.setCurrentRow(t.currentRow?t.currentRow:t.declareDatas[0]));case 5:case"end":return a.stop()}}),a)})))()},declareClick:function(e,t){var a=this;this.currentRow=e,this.taxDeclareCode=e.code,"save"!=t&&(this.taxTableCode="");var i=this.baseDeclareDatas[e.code]||[];i.map((function(t){t.ischk=!(!a.buildDatas[e.code]||!a.buildDatas[e.code][t.taxTableCode])})),this.physicalDatas=i,this.taxTableCode=this.physicalDatas.length>0?this.taxTableCode?this.taxTableCode:this.physicalDatas[0].taxTableCode:"",this.tableClick(this.taxTableCode)},tableClick:function(e){var t=this;this.fieldUUIDs=[],this.fieldDatas=[];var a=this.physicalDatas.findIndex((function(t){return t.taxTableCode==e}));a>=0&&(this.fieldDatas=this.physicalDatas[a].fields,this.buildDatas[this.taxDeclareCode]&&this.buildDatas[this.taxDeclareCode][e]?(this.fieldConfigDatas=this.buildDatas[this.taxDeclareCode][e],this.fieldUUIDs=this.fieldConfigDatas.map((function(e){return e.fieldUUID})),this.fieldNoConfigDatas=this.fieldDatas.filter((function(e){return!t.fieldUUIDs.includes(e.uuid)}))):(this.fieldNoConfigDatas=this.fieldDatas,this.fieldConfigDatas=[])),this.taxTableCode=e,this.$vLoading.hide()},saveField:function(){var e=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var a,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={taxArea:e.formselset.taxArea,taxCode:e.formselset.taxCode,taxStructure:e.formselset.taxStructure,taxDeclareCode:e.taxDeclareCode,taxTableCode:e.taxTableCode,extras:e.fieldConfigDatas},e.taxTableCode){t.next=4;break}return e.$message({type:"warn",message:"没有可用表数据进行配置保存!请维护相关表数据！"}),t.abrupt("return",!1);case 4:return t.next=6,Object(s["bb"])(a);case 6:i=t.sent,i&&e.restore("save");case 8:case"end":return t.stop()}}),t)})))()},clickRowTop:function(e){this.$refs.noConfigTable.toggleRowSelection(e)},selectChangeTop:function(e){this.multipleSelectionTop=e},clickRowBottom:function(e){this.$refs.configTable.toggleRowSelection(e)},selectChangeBottom:function(e){this.multipleSelectionBottom=e},selectData:function(){var e=this;if(0==this.multipleSelectionTop.length)this.$message.warning("请在上方面板选择要添加的数据！");else{var t=this.multipleSelectionTop.map((function(e){return e.uuid}));this.fieldNoConfigDatas=this.fieldNoConfigDatas.filter((function(e){return!t.includes(e.uuid)}));var a={};if(this.buildDatas[this.taxDeclareCode]&&this.buildDatas[this.taxDeclareCode][this.taxTableCode]){var i=this.buildDatas[this.taxDeclareCode][this.taxTableCode];i.forEach((function(e){a[e.fieldUUID]=e}))}this.multipleSelectionTop.forEach((function(t){var i=a[t.uuid]||{};Object.keys(i).length>0?e.fieldConfigDatas.push(i):e.fieldConfigDatas.push(Object(o["a"])({fieldUUID:t.uuid,taxFieldDefValue:t.fieldDefValue,taxFieldNeed:!0,taxFieldRequired:!0,taxFieldDateType:!0,taxFieldCheck:!1},t))})),this.fieldConfigDatas.sort((function(e,t){return Number(e.fieldNo)-Number(t.fieldNo)}))}},cancelSelectData:function(){if(0==this.multipleSelectionBottom.length)this.$message.warning("请在下方面板选择要溢出数据！");else{var e=this.fieldNoConfigDatas.map((function(e){return e.uuid})),t=this.multipleSelectionBottom.map((function(e){return e.fieldUUID}));this.fieldNoConfigDatas=this.fieldDatas.filter((function(a){return e.includes(a.uuid)||t.includes(a.uuid)})),this.fieldConfigDatas=this.fieldConfigDatas.filter((function(e){return!t.includes(e.fieldUUID)}))}},editClick:function(e,t){this.tableEditRow=e,this.dialogBox=!0,this.dialogform=JSON.parse(JSON.stringify(t))},submitForm:function(){this.dialogBox=!1,this.$set(this.fieldConfigDatas,this.tableEditRow,this.dialogform)},changeNeed:function(e){e||(this.dialogform.taxFieldRequired=!1)},changeRequired:function(e){e&&(this.dialogform.taxFieldNeed=!0)}},mounted:function(){var e=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var a,i,l,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.common.targetGetStorage("buildField"),e.formselset.taxArea=a.taxArea,e.formselset.taxCode=a.taxCode,e.formselset.taxStructure=a.taxStructure,e.taxAreaName=a.taxAreaName,e.taxName=a.taxName,t.next=8,Object(s["c"])("table_declare",{code:e.formselset.taxCode});case 8:return i=t.sent,i&&(l=i,l.unshift({table_tax_code:"00000",code:"00000R0",name:"公共信息表"}),l.map((function(e){e.isStruct=!1})),e.declareDatas=l),t.next=12,Object(s["Z"])(e.formselset);case 12:o=t.sent,o&&(e.baseDeclareDatas=o),e.restore();case 15:case"end":return t.stop()}}),t)})))()}},d=c,u=(a("5d38"),a("2877")),f=Object(u["a"])(d,i,l,!1,null,"2d79331a",null);t["default"]=f.exports},"9e6a":function(e,t,a){"use strict";var i=a("d233"),l=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},r=function(e,t){for(var a={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,n=i.split(t.delimiter,r),s=0;s<n.length;++s){var c,d,u=n[s],f=u.indexOf("]="),p=-1===f?u.indexOf("="):f+1;-1===p?(c=t.decoder(u,o.decoder),d=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,p),o.decoder),d=t.decoder(u.slice(p+1),o.decoder)),l.call(a,c)?a[c]=[].concat(a[c]).concat(d):a[c]=d}return a},n=function(e,t,a){for(var i=t,l=e.length-1;l>=0;--l){var o,r=e[l];if("[]"===r&&a.parseArrays)o=[].concat(i);else{o=a.plainObjects?Object.create(null):{};var n="["===r.charAt(0)&&"]"===r.charAt(r.length-1)?r.slice(1,-1):r,s=parseInt(n,10);a.parseArrays||""!==n?!isNaN(s)&&r!==n&&String(s)===n&&s>=0&&a.parseArrays&&s<=a.arrayLimit?(o=[],o[s]=i):"__proto__"!==n&&(o[n]=i):o={0:i}}i=o}return i},s=function(e,t,a){if(e){var i=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,s=o.exec(i),c=s?i.slice(0,s.index):i,d=[];if(c){if(!a.plainObjects&&l.call(Object.prototype,c)&&!a.allowPrototypes)return;d.push(c)}var u=0;while(null!==(s=r.exec(i))&&u<a.depth){if(u+=1,!a.plainObjects&&l.call(Object.prototype,s[1].slice(1,-1))&&!a.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+i.slice(s.index)+"]"),n(d,t,a)}};e.exports=function(e,t){var a=t?i.assign({},t):{};if(null!==a.decoder&&void 0!==a.decoder&&"function"!==typeof a.decoder)throw new TypeError("Decoder has to be a function.");if(a.ignoreQueryPrefix=!0===a.ignoreQueryPrefix,a.delimiter="string"===typeof a.delimiter||i.isRegExp(a.delimiter)?a.delimiter:o.delimiter,a.depth="number"===typeof a.depth?a.depth:o.depth,a.arrayLimit="number"===typeof a.arrayLimit?a.arrayLimit:o.arrayLimit,a.parseArrays=!1!==a.parseArrays,a.decoder="function"===typeof a.decoder?a.decoder:o.decoder,a.allowDots="boolean"===typeof a.allowDots?a.allowDots:o.allowDots,a.plainObjects="boolean"===typeof a.plainObjects?a.plainObjects:o.plainObjects,a.allowPrototypes="boolean"===typeof a.allowPrototypes?a.allowPrototypes:o.allowPrototypes,a.parameterLimit="number"===typeof a.parameterLimit?a.parameterLimit:o.parameterLimit,a.strictNullHandling="boolean"===typeof a.strictNullHandling?a.strictNullHandling:o.strictNullHandling,""===e||null===e||"undefined"===typeof e)return a.plainObjects?Object.create(null):{};for(var l="string"===typeof e?r(e,a):e,n=a.plainObjects?Object.create(null):{},c=Object.keys(l),d=0;d<c.length;++d){var u=c[d],f=s(u,l[u],a);n=i.merge(n,f,a)}return i.compact(n)}},b313:function(e,t,a){"use strict";var i=String.prototype.replace,l=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,l,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,a){"use strict";var i=Object.prototype.hasOwnProperty,l=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){var t;while(e.length){var a=e.pop();if(t=a.obj[a.prop],Array.isArray(t)){for(var i=[],l=0;l<t.length;++l)"undefined"!==typeof t[l]&&i.push(t[l]);a.obj[a.prop]=i}}return t},r=function(e,t){for(var a=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(a[i]=e[i]);return a},n=function e(t,a,l){if(!a)return t;if("object"!==typeof a){if(Array.isArray(t))t.push(a);else{if(!t||"object"!==typeof t)return[t,a];(l&&(l.plainObjects||l.allowPrototypes)||!i.call(Object.prototype,a))&&(t[a]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(a);var o=t;return Array.isArray(t)&&!Array.isArray(a)&&(o=r(t,l)),Array.isArray(t)&&Array.isArray(a)?(a.forEach((function(a,o){if(i.call(t,o)){var r=t[o];r&&"object"===typeof r&&a&&"object"===typeof a?t[o]=e(r,a,l):t.push(a)}else t[o]=a})),t):Object.keys(a).reduce((function(t,o){var r=a[o];return i.call(t,o)?t[o]=e(t[o],r,l):t[o]=r,t}),o)},s=function(e,t){return Object.keys(t).reduce((function(e,a){return e[a]=t[a],e}),e)},c=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},d=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),a="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?a+=t.charAt(i):o<128?a+=l[o]:o<2048?a+=l[192|o>>6]+l[128|63&o]:o<55296||o>=57344?a+=l[224|o>>12]+l[128|o>>6&63]+l[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),a+=l[240|o>>18]+l[128|o>>12&63]+l[128|o>>6&63]+l[128|63&o])}return a},u=function(e){for(var t=[{obj:{o:e},prop:"o"}],a=[],i=0;i<t.length;++i)for(var l=t[i],r=l.obj[l.prop],n=Object.keys(r),s=0;s<n.length;++s){var c=n[s],d=r[c];"object"===typeof d&&null!==d&&-1===a.indexOf(d)&&(t.push({obj:r,prop:c}),a.push(d))}return o(t)},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:r,assign:s,compact:u,decode:c,encode:d,isBuffer:p,isRegExp:f,merge:n}},d692:function(e,t,a){}}]);
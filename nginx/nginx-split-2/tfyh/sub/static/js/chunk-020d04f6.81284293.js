(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-020d04f6"],{4127:function(e,t,r){"use strict";var o=r("d233"),n=r("b313"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Array.isArray,s=Array.prototype.push,c=function(e,t){s.apply(e,i(t)?t:[t])},l=Date.prototype.toISOString,p={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,n,a,s,l,u,f,d,m,y,v){var h=t;if("function"===typeof u?h=u(r,h):h instanceof Date&&(h=m(h)),null===h){if(a)return l&&!v?l(r,p.encoder):r;h=""}if("string"===typeof h||"number"===typeof h||"boolean"===typeof h||o.isBuffer(h)){if(l){var b=v?r:l(r,p.encoder);return[y(b)+"="+y(l(h,p.encoder))]}return[y(r)+"="+y(String(h))]}var g,O=[];if("undefined"===typeof h)return O;if(i(u))g=u;else{var j=Object.keys(h);g=f?j.sort(f):j}for(var A=0;A<g.length;++A){var _=g[A];s&&null===h[_]||(i(h)?c(O,e(h[_],n(r,_),n,a,s,l,u,f,d,m,y,v)):c(O,e(h[_],r+(d?"."+_:"["+_+"]"),n,a,s,l,u,f,d,m,y,v)))}return O};e.exports=function(e,t){var r=e,s=t?o.assign({},t):{};if(null!==s.encoder&&"undefined"!==typeof s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"===typeof s.delimiter?p.delimiter:s.delimiter,f="boolean"===typeof s.strictNullHandling?s.strictNullHandling:p.strictNullHandling,d="boolean"===typeof s.skipNulls?s.skipNulls:p.skipNulls,m="boolean"===typeof s.encode?s.encode:p.encode,y="function"===typeof s.encoder?s.encoder:p.encoder,v="function"===typeof s.sort?s.sort:null,h="undefined"!==typeof s.allowDots&&s.allowDots,b="function"===typeof s.serializeDate?s.serializeDate:p.serializeDate,g="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:p.encodeValuesOnly;if("undefined"===typeof s.format)s.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,s.format))throw new TypeError("Unknown format option provided.");var O,j,A=n.formatters[s.format];"function"===typeof s.filter?(j=s.filter,r=j("",r)):i(s.filter)&&(j=s.filter,O=j);var _,w=[];if("object"!==typeof r||null===r)return"";_=s.arrayFormat in a?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var D=a[_];O||(O=Object.keys(r)),v&&O.sort(v);for(var x=0;x<O.length;++x){var C=O[x];d&&null===r[C]||c(w,u(r[C],C,D,f,d,m?y:null,j,v,h,b,A,g))}var k=w.join(l),T=!0===s.addQueryPrefix?"?":"";return k.length>0?T+k:""}},4328:function(e,t,r){"use strict";var o=r("4127"),n=r("9e6a"),a=r("b313");e.exports={formats:a,parse:n,stringify:o}},"4eca":function(e,t,r){"use strict";r("ab8a")},"9b39":function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"g",(function(){return p})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f}));var o=r("b775"),n=r("4328"),a=r.n(n);function i(e){return Object(o["a"])({url:"/approve/act/list",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/approve/act/listAll",method:"get",params:e})}function c(e){return Object(o["a"])({url:"/approve/act/"+e,method:"get"})}function l(e){return Object(o["a"])({url:"/approve/act",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/approve/act",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/approve/act/"+e,method:"delete"})}function f(e){return Object(o["a"])({url:"/approve/act/export",method:"get",params:e,paramsSerializer:function(e){return a.a.stringify(e,{arrayFormat:"repeat"})}})}},"9e6a":function(e,t,r){"use strict";var o=r("d233"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=o.split(t.delimiter,i),c=0;c<s.length;++c){var l,p,u=s[c],f=u.indexOf("]="),d=-1===f?u.indexOf("="):f+1;-1===d?(l=t.decoder(u,a.decoder),p=t.strictNullHandling?null:""):(l=t.decoder(u.slice(0,d),a.decoder),p=t.decoder(u.slice(d+1),a.decoder)),n.call(r,l)?r[l]=[].concat(r[l]).concat(p):r[l]=p}return r},s=function(e,t,r){for(var o=t,n=e.length-1;n>=0;--n){var a,i=e[n];if("[]"===i&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&i!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=o):"__proto__"!==s&&(a[s]=o):a={0:o}}o=a}return o},c=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,c=a.exec(o),l=c?o.slice(0,c.index):o,p=[];if(l){if(!r.plainObjects&&n.call(Object.prototype,l)&&!r.allowPrototypes)return;p.push(l)}var u=0;while(null!==(c=i.exec(o))&&u<r.depth){if(u+=1,!r.plainObjects&&n.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+o.slice(c.index)+"]"),s(p,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?i(e,r):e,s=r.plainObjects?Object.create(null):{},l=Object.keys(n),p=0;p<l.length;++p){var u=l[p],f=c(u,n[u],r);s=o.merge(s,f,r)}return o.compact(s)}},a767:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var o=r("b775");function n(e){return Object(o["a"])({url:"/act/task/myTask",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/act/task/formDataShow/"+e,method:"get"})}function i(e,t){return Object(o["a"])({url:"/act/task/formDataSave/"+e,method:"post",data:t})}},ab8a:function(e,t,r){},b313:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){var t;while(e.length){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&o.push(t[n]);r.obj[r.prop]=o}}return t},i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(r[o]=e[o]);return r},s=function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=i(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,a){if(o.call(t,a)){var i=t[a];i&&"object"===typeof i&&r&&"object"===typeof r?t[a]=e(i,r,n):t.push(r)}else t[a]=r})),t):Object.keys(r).reduce((function(t,a){var i=r[a];return o.call(t,a)?t[a]=e(t[a],i,n):t[a]=i,t}),a)},c=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},l=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},p=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",o=0;o<t.length;++o){var a=t.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(o):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(o)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},u=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],i=n.obj[n.prop],s=Object.keys(i),c=0;c<s.length;++c){var l=s[c],p=i[l];"object"===typeof p&&null!==p&&-1===r.indexOf(p)&&(t.push({obj:i,prop:l}),r.push(p))}return a(t)},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},d=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:i,assign:c,compact:u,decode:l,encode:p,isBuffer:d,isRegExp:f,merge:s}},d3b3:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mobile-container"},[r("div",{staticClass:"title-wrapper"},[r("i",{staticClass:"el-icon-arrow-left",on:{click:e.handleBack}}),e._v(" 流程详情 ")]),r("div",{staticClass:"content-wrapper"},["wdfq"==e.pageType?[r("h2",[e._v("发起人："+e._s(e.form.createName))]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("业务类型：")]),r("div",{staticClass:"info-item-right"},[e._v(" "+e._s(e.approvalTypeFormat(e.form))+" ")])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("标题：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.title))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("原因：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.reason))])]),r("div",{staticClass:"approve-wrapper"},e._l(e.fromData,(function(t,o){return r("div",{key:o},[r("h2",[e._v(e._s(t.taskNodeName))]),r("h3",[e._v("审批人:"+e._s(t.createName))]),r("h3",[e._v("审批时间:"+e._s(t.createdDate))]),e._l(t.formHistoryDataDTO,(function(t,o){return r("el-form",{key:o,attrs:{"label-width":"90px"}},[r("el-form-item",{attrs:{label:t.title+"："}},[e._v(" "+e._s(t.value)+" ")])],1)}))],2)})),0)]:"dsp"==e.pageType?[r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("流程名称：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.instanceName))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("任务节点名称：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.name))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("原因：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.reason))])]),r("div",{staticClass:"info-item"},[r("div",{staticClass:"info-item-left"},[e._v("创建时间：")]),r("div",{staticClass:"info-item-right"},[e._v(e._s(e.form.createdDate))])])]:e._e()],2),"dsp"==e.pageType?r("div",{staticClass:"bottom-operation-wrapper"},[r("div",{staticClass:"bottom-operation-item",on:{click:e.examineAndApprove}},[e._v("审 批")])]):e._e(),r("van-dialog",{attrs:{title:"审批","show-cancel-button":"",beforeClose:e.examineAndApproveSubmit},model:{value:e.examineAndApproveDialog.open,callback:function(t){e.$set(e.examineAndApproveDialog,"open",t)},expression:"examineAndApproveDialog.open"}},[r("el-form",{ref:"examineAndApproveForm",staticClass:"demo-dynamic",attrs:{model:e.examineAndApproveDialog.form,"label-width":"100px"}},e._l(e.examineAndApproveDialog.form.formData,(function(t,o){return r("el-form-item",{key:o,attrs:{label:t.controlLable}},["radio"==t.controlType?r("el-radio-group",{model:{value:t.controlValue,callback:function(r){e.$set(t,"controlValue",r)},expression:"domain.controlValue"}},e._l(t.controlDefault.split("--__--"),(function(t,o){return r("el-radio",{key:o,attrs:{label:o}},[e._v(e._s(t)+" ")])})),1):e._e(),"textarea"==t.controlType?r("el-input",{attrs:{type:"textarea"},model:{value:t.controlValue,callback:function(r){e.$set(t,"controlValue",r)},expression:"domain.controlValue"}}):e._e()],1)})),1)],1)],1)},n=[],a=(r("d3b7"),r("9b39")),i=r("a767"),s=r("d923"),c=r("ed08"),l=r("d399"),p={name:"Approveinfo",data:function(){return{pageType:"",currData:{},businessKey:null,form:{},fromData:[],approvalTypeOptions:[],examineAndApproveDialog:{open:!1,form:{formData:[]}}}},created:function(){var e=this,t=this.$route.query.currData,r=this.$route.query.pageType;this.pageType=r,this.currData=t,"wdfq"==this.pageType||"ysp"==this.pageType?this.getForm():"dsp"==this.pageType&&(this.form=Object(c["e"])(this.currData)),this.getDicts("approve_process_define").then((function(t){e.approvalTypeOptions=t.data}))},methods:{approvalTypeFormat:function(e,t){return this.selectDictLabel(this.approvalTypeOptions,e.type)},getForm:function(){var e=this;Object(a["d"])(this.currData.id).then((function(t){e.form=t.data}))},getFromData:function(){var e=this;Object(s["a"])(this.currData.id).then((function(t){e.fromData=t.data}))},examineAndApprove:function(){var e=this;this.$vLoading.show(),Object(i["b"])(this.form.id).then((function(t){for(var r=t.data,o=[],n=0;n<r.length;n++){var a=r[n].split("--__!!"),i=null,s=null;switch(a[1]){case"radio":i=0,s=a[4];break}o.push({controlId:a[0],controlType:a[1],controlLable:a[2],controlIsParam:a[3],controlValue:i,controlDefault:s})}e.examineAndApproveDialog.form.formData=o,e.examineAndApproveDialog.open=!0})).finally((function(){e.$vLoading.hide()}))},examineAndApproveSubmit:function(e,t){var r=this;"confirm"===e?(this.$vLoading.show(),Object(i["a"])(this.form.id,this.examineAndApproveDialog.form.formData).then((function(e){l["a"].success("审批成功"),r.$router.push({path:"/dsp"})})).finally((function(){r.$vLoading.hide(),t()}))):t()},handleBack:function(){"wdfq"==this.pageType?this.$router.push({path:"/wdfq"}):"dsp"==this.pageType?this.$router.push({path:"/dsp"}):"ysp"==this.pageType&&this.$router.push({path:"/ysp"})}}},u=p,f=(r("4eca"),r("e744"),r("2877")),d=Object(f["a"])(u,o,n,!1,null,"8d224b14",null);t["default"]=d.exports},d923:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("b775");function n(e){return Object(o["a"])({url:"/historyFromData/ByInstanceId/"+e,method:"get"})}},e744:function(e,t,r){"use strict";r("f3be")},f3be:function(e,t,r){}}]);